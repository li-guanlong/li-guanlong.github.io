{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.string.trim.js","webpack:///./src/views/data/special/appTaglist/sub-route/editTag.vue?74f6","webpack:///src/views/data/special/appTaglist/sub-route/editTag.vue","webpack:///./src/views/data/special/appTaglist/sub-route/editTag.vue?af1f","webpack:///./src/views/data/special/appTaglist/sub-route/editTag.vue","webpack:///./src/views/data/special/appTaglist/sub-route/editTag.vue?2906","webpack:///./src/components/TagsAdd.vue?d95b","webpack:///./node_modules/core-js/internals/string-trim-forced.js","webpack:///./src/components/TagsAdd.vue?edf8","webpack:///src/components/TagsAdd.vue","webpack:///./src/components/TagsAdd.vue?1d6f","webpack:///./src/components/TagsAdd.vue"],"names":["$","$trim","trim","forcedStringTrimMethod","target","proto","forced","this","render","_vm","_h","$createElement","_c","_self","attrs","_v","ref","formData","ruleValidate","staticClass","on","$event","flagtype","model","value","callback","$$v","$set","expression","class","err1","checkName","_s","err2","checkFullname","err3","checkCatalog","staticStyle","_l","formArr","itm","idx","key","minRows","maxRows","tagsAddConfig1","_e","getFile","curImgMsg","name","curIconUrl","handleSubmit","staticRenderFns","inject","data","catalog","title","keyword","description","status","tag_state","tag_type","tags","tagInfo","img_url","curIconFile","url","classify","type","isLoaded","mounted","tagid","api","id","fullname","full_name","img","introduce","state","is404","author","check_updateTime","res","tagInfo1","desc","msg","methods","$Spin","show","content","cancelText","okText","loading","onCancel","clearTimeout","timer","onOk","$Message","warning","handleCheckName","Promise","resolve","getConfig","undefined","limitTypeReg","test","e","files","fr","onload","readAsDataURL","clearArrSpace","watch","$route","reload","components","component","PROPER_FUNCTION_NAME","PROPER","fails","whitespaces","non","module","exports","METHOD_NAME","item","delRelevanceTag","sid","openTagsAddFun","openTagAdd","slot","getRelevanceTag","selval","tagsAddConfig","getRelevanceTagParams2","relevanceTagList","gamelist","length","addRelevanceTag","totlerows","changePageNum","changePage","props","tagList","tagListStr","tagsMenu","tagsMenuAdd","getRelevanceTagParams1","token","page","per_page","gameid","gameId","tags_id","tagsid1","tagsid2","tagsid3","created","getTagListStr","ele","console","log","push","success","replace","reg","splice","num","tagsList","forEach","tagsStr"],"mappings":"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","file":"js/chunk-3b285db3.b43a0c16.js","sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar $trim = require('../internals/string-trim').trim;\nvar forcedStringTrimMethod = require('../internals/string-trim-forced');\n\n// `String.prototype.trim` method\n// https://tc39.es/ecma262/#sec-string.prototype.trim\n$({ target: 'String', proto: true, forced: forcedStringTrimMethod('trim') }, {\n  trim: function trim() {\n    return $trim(this);\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h3',[_c('Icon',{attrs:{\"type\":\"ios-add-circle-outline\",\"size\":\"24\"}}),_vm._v(\"编辑标签\")],1),_c('Form',{ref:\"formData\",attrs:{\"model\":_vm.formData,\"label-width\":130,\"rules\":_vm.ruleValidate}},[_c('FormItem',{attrs:{\"label\":\"专题简称\",\"prop\":\"name\"}},[_c('Input',{staticClass:\"snamebox\",on:{\"on-blur\":function($event){return _vm.flagtype(1)}},model:{value:(_vm.formData.name),callback:function ($$v) {_vm.$set(_vm.formData, \"name\", $$v)},expression:\"formData.name\"}}),_c('span',{staticClass:\"errbox\",class:{err1: _vm.checkName != 'ok'}},[_vm._v(_vm._s(_vm.checkName))])],1),_c('FormItem',{attrs:{\"label\":\"专题全称\",\"prop\":\"fullname\",\"model\":_vm.formData}},[_c('Input',{staticClass:\"snamebox\",on:{\"on-blur\":function($event){return _vm.flagtype(2)}},model:{value:(_vm.formData.fullname),callback:function ($$v) {_vm.$set(_vm.formData, \"fullname\", $$v)},expression:\"formData.fullname\"}}),_c('span',{staticClass:\"errbox\",class:{err2: _vm.checkFullname != 'ok'}},[_vm._v(_vm._s(_vm.checkFullname))])],1),_c('FormItem',{attrs:{\"label\":\"专题目录\",\"prop\":\"catalog\",\"model\":_vm.formData}},[_c('Input',{staticClass:\"snamebox\",on:{\"on-blur\":function($event){return _vm.flagtype(3)}},model:{value:(_vm.formData.catalog),callback:function ($$v) {_vm.$set(_vm.formData, \"catalog\", $$v)},expression:\"formData.catalog\"}}),_c('span',{staticClass:\"errbox\",class:{err3: _vm.checkCatalog != 'ok'}},[_vm._v(_vm._s(_vm.checkCatalog))]),_c('p',{staticClass:\"tips\"},[_vm._v(\"不能用纯数字或有中文\")])],1),_c('FormItem',{attrs:{\"label\":\"专题分类\"}},[_c('Select',{staticStyle:{\"width\":\"100px\"},model:{value:(_vm.formData.type),callback:function ($$v) {_vm.$set(_vm.formData, \"type\", $$v)},expression:\"formData.type\"}},_vm._l((_vm.formArr.tag_type),function(itm,idx){return _c('Option',{key:idx,attrs:{\"value\":idx}},[_vm._v(_vm._s(itm))])}),1)],1),_c('FormItem',{attrs:{\"label\":\"专题类型\"}},[_c('Select',{staticStyle:{\"width\":\"100px\"},model:{value:(_vm.formData.state),callback:function ($$v) {_vm.$set(_vm.formData, \"state\", $$v)},expression:\"formData.state\"}},_vm._l((_vm.formArr.tag_state),function(itm,idx){return _c('Option',{key:idx,attrs:{\"value\":idx}},[_vm._v(_vm._s(itm))])}),1)],1),_c('FormItem',{attrs:{\"label\":\"网页标题\",\"prop\":\"title\",\"model\":_vm.formData}},[_c('Input',{model:{value:(_vm.formData.title),callback:function ($$v) {_vm.$set(_vm.formData, \"title\", $$v)},expression:\"formData.title\"}})],1),_c('FormItem',{attrs:{\"label\":\"网页关键词\",\"prop\":\"keyword\",\"model\":_vm.formData}},[_c('Input',{model:{value:(_vm.formData.keyword),callback:function ($$v) {_vm.$set(_vm.formData, \"keyword\", $$v)},expression:\"formData.keyword\"}})],1),_c('FormItem',{attrs:{\"label\":\"网页描述\",\"prop\":\"description\",\"model\":_vm.formData}},[_c('Input',{attrs:{\"type\":\"textarea\",\"autosize\":{minRows: 4,maxRows: 15}},model:{value:(_vm.formData.description),callback:function ($$v) {_vm.$set(_vm.formData, \"description\", $$v)},expression:\"formData.description\"}})],1),_c('FormItem',{attrs:{\"label\":\"是否更改更新时间\",\"prop\":\"check_updateTime\"}},[_c('RadioGroup',{model:{value:(_vm.formData.check_updateTime),callback:function ($$v) {_vm.$set(_vm.formData, \"check_updateTime\", $$v)},expression:\"formData.check_updateTime\"}},[_c('Radio',{attrs:{\"label\":\"1\"}},[_vm._v(\"是\")]),_c('Radio',{attrs:{\"label\":\"0\"}},[_vm._v(\"否\")])],1)],1),_c('FormItem',{attrs:{\"label\":\"作者\",\"prop\":\"author\",\"model\":_vm.formData}},[_c('Input',{staticClass:\"authorbox\",model:{value:(_vm.formData.author),callback:function ($$v) {_vm.$set(_vm.formData, \"author\", $$v)},expression:\"formData.author\"}})],1),_c('FormItem',{attrs:{\"label\":\"关联专题\",\"prop\":\"tags\"}},[(_vm.isLoaded)?_c('TagsAdd',{ref:\"tagsAddSwitch1\",attrs:{\"tagsAddConfig\":_vm.tagsAddConfig1}}):_vm._e()],1),_c('FormItem',{staticClass:\"big iconBox\",attrs:{\"label\":\"专题封面\",\"prop\":\"img\"}},[_c('div',{staticClass:\"uploadBox\"},[_c('div',{staticClass:\"upload\"},[_c('Icon',{attrs:{\"type\":\"ios-cloud-upload-outline\",\"size\":\"18\"}}),_vm._v(\" 选择文件 \")],1),_c('input',{attrs:{\"type\":\"file\",\"name\":\"img\",\"value\":\"\"},on:{\"change\":function($event){return _vm.getFile($event)}}})]),_c('i',{staticStyle:{\"margin-right\":\"20px\"}},[_vm._v(_vm._s(_vm.curImgMsg.name))]),_c('p',{staticClass:\"tips\"},[_vm._v(\"推荐尺寸:700*332\")]),_c('img',{staticClass:\"defaultImg\",attrs:{\"src\":_vm.curIconUrl,\"alt\":\"\"}})]),_c('FormItem',{attrs:{\"label\":\"专题介绍\",\"prop\":\"introduce\",\"model\":_vm.formData}},[_c('Input',{attrs:{\"type\":\"textarea\",\"autosize\":{minRows: 4,maxRows: 15}},model:{value:(_vm.formData.introduce),callback:function ($$v) {_vm.$set(_vm.formData, \"introduce\", $$v)},expression:\"formData.introduce\"}})],1),_c('FormItem',{attrs:{\"label\":\"状态\"}},[_c('Select',{staticStyle:{\"width\":\"100px\"},model:{value:(_vm.formData.status),callback:function ($$v) {_vm.$set(_vm.formData, \"status\", $$v)},expression:\"formData.status\"}},_vm._l((_vm.formArr.status),function(itm,idx){return _c('Option',{key:idx,attrs:{\"value\":idx}},[_vm._v(_vm._s(itm))])}),1)],1),_c('FormItem',{attrs:{\"label\":\"PC404\"}},[_c('Select',{staticStyle:{\"width\":\"100px\"},model:{value:(_vm.formData.is404),callback:function ($$v) {_vm.$set(_vm.formData, \"is404\", $$v)},expression:\"formData.is404\"}},[_c('Option',{attrs:{\"value\":\"1\"}},[_vm._v(\"已发布\")]),_c('Option',{attrs:{\"value\":\"2\"}},[_vm._v(\"隐藏\")]),_c('Option',{attrs:{\"value\":\"3\"}},[_vm._v(\"审核中\")]),_c('Option',{attrs:{\"value\":\"4\"}},[_vm._v(\"退回\")])],1)],1),_c('FormItem',[_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handleSubmit('formData')}}},[_vm._v(\"确认提交\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\r\nimport api from '@/api'\r\nimport { getToken } from '@/api/auth'\r\nimport TagsAdd from '@/components/TagsAdd'\r\n\r\nexport default {\r\n  inject: ['reload'],\r\n  data() {\r\n    return {\r\n      data: [],\r\n        formData: {\r\n          id: '',\r\n          name: '',\r\n          title: '',\r\n          keyword: '',\r\n          description: '',\r\n          fullname: '',\r\n          catalog: '',\r\n          type: '2', //应用\r\n          introduce: '',\r\n          state: '1',\r\n          tag_type: '1',\r\n          tag_state: '1',\r\n          status: '1',\r\n          website: '',\r\n          img: '',\r\n          is404: '2',\r\n          type_category: '1',\r\n          check_updateTime: '0',\r\n          tags: '',\r\n          flag: '',\r\n          editAllPlatType: 1, //\r\n          editAllPlat: '',\r\n      },\r\n      \r\n      ruleValidate: {\r\n        name: [\r\n          { required: true, message: '请输入专题名称', trigger: 'blur' },\r\n        ],\r\n        catalog: [\r\n          { required: true, message: '请输入专题目录', trigger: 'blur' }\r\n        ],\r\n        title: [\r\n          { required: true, message: '请输入网页标题', trigger: 'blur' }\r\n        ],\r\n        keyword: [\r\n          { required: true, message: '请输入网页关键词', trigger: 'blur' }\r\n        ],\r\n        description: [\r\n          { required: true, message: '请输入网页描述', trigger: 'blur' }\r\n        ],\r\n      },\r\n      formArr: {\r\n        status: [],\r\n        tag_state: [],\r\n        tag_type: [],\r\n        tags: []\r\n      },\r\n      tagInfo: [],\r\n      img_url: '',\r\n      curIconFile: {},\r\n      curIconUrl: '',\r\n      curImgMsg: {name: '未选择任何文件'},\r\n      checkName: '',\r\n      checkFullname: '',\r\n      checkCatalog: '',\r\n      // openTagAdd: false,//关联\r\n      // getRelevanceTagParams: {},\r\n      // relevanceTagList: {},\r\n      tagsAddConfig1: {\r\n        url: 'searchTagList',\r\n        classify: 2,\r\n        tags: [],\r\n        type:1\r\n      },//关联标签添加配置\r\n      isLoaded: false,\r\n      \r\n    }\r\n    \r\n  },\r\n  mounted () {\r\n    const token = getToken(),\r\n    tagid = this.$route.query.id || '',\r\n    params = {\"token\":token, \"tagid\":tagid, \"type\":2};\r\n    this.tagid ? {token,type:2,} : {token,tagid,type:2};\r\n\r\n    api.editTag(params).then(res => {\r\n      if(res.code == 0) {\r\n        \r\n        // console.log(res,this.tagid)\r\n        let {status, tag_state, tag_type} = res.data.config;\r\n        //  console.log(this.$route.query.id)\r\n        if(tagid) {\r\n          const {id, name, full_name, catalog, type, title, keyword, description, img=this.curIconFile, introduce, state, is404, tags, author, status, check_updateTime='0', } = res.data.tagInfo;\r\n          this.formData = {\r\n            id,\r\n            name,\r\n            fullname: full_name,\r\n            catalog,\r\n            type,\r\n            title,\r\n            keyword,\r\n            description,\r\n            img,\r\n            introduce,\r\n            state,\r\n            is404,\r\n            tags,\r\n            author,\r\n            check_updateTime,\r\n            status,\r\n          };\r\n        }\r\n        // console.log(this.formData)\r\n        this.formArr = {\r\n          status: status,\r\n          tag_state: tag_state,\r\n          tag_type: tag_type,\r\n          tags: res.data.tagInfo1\r\n        };//列数据传值\r\n          this.tagInfo = res.data.tagInfo1 || [];\r\n          this.isLoaded = true;\r\n          // console.log(this.formArr.tags)\r\n         if (res.data.tagInfo == undefined) {\r\n            // console.log(this.curIconUrl)\r\n          } else {\r\n            this.curIconUrl = (res.data.tagInfo.img_url)\r\n            // console.log(res.data.tagInfo.img_url)\r\n          }\r\n      } else {\r\n        this.$Notice.error({\r\n          desc: res.msg\r\n        })\r\n      }\r\n    })\r\n\r\n\r\n  },\r\n  methods: {\r\n    handleSubmit () {\r\n      this.$Spin.show();\r\n      let tagStr = this.clearArrSpace(this.$refs.tagsAddSwitch1.tagListStr,1);\r\n      // console.log(tagStr)\r\n      const token = getToken(),\r\n          id = this.$route.query.id*1 || '',\r\n          name = this.formData.name,\r\n          title = this.formData.title,\r\n          keyword = this.formData.keyword,\r\n          description = this.formData.description,\r\n          fullname = this.formData.fullname,\r\n          catalog = this.formData.catalog,\r\n          status = this.formData.status*1,\r\n          type = this.formData.type*1,\r\n          state = this.formData.state*1,\r\n          introduce = this.formData.introduce,\r\n          author = this.formData.author,\r\n          is404 = this.formData.is404*1,\r\n          relation_id = tagStr,\r\n          img = this.curIconFile,\r\n          check_updateTime = this.formData.check_updateTime*1 || 0;\r\n          \r\n          // console.log(this.curIconFile)\r\n          const fr = new FormData();\r\n            fr.append(\"token\",token);\r\n            fr.append(\"id\",id);\r\n            fr.append(\"name\",name);\r\n            fr.append(\"title\",title);\r\n            fr.append(\"keyword\",keyword);\r\n            fr.append(\"status\",status);\r\n            fr.append(\"description\",description);\r\n            fr.append(\"fullname\",fullname);\r\n            fr.append(\"catalog\",catalog);\r\n            fr.append(\"type\",type);\r\n            fr.append(\"state\",state);\r\n            fr.append(\"introduce\",introduce);\r\n            fr.append(\"author\",author);\r\n            fr.append(\"is404\",is404);\r\n            fr.append(\"relation_id\",relation_id);\r\n            fr.append(\"img\",img);\r\n            fr.append(\"check_updateTime\",check_updateTime);\r\n          const params = fr;\r\n      // console.log(params)\r\n\r\n      api.exetag(params).then(res => {\r\n        this.$Spin.hide();\r\n        if(res.code == 0) {\r\n          // console.log(res)\r\n          const timer = setTimeout(() => {\r\n            this.$Modal.remove();\r\n            this.$router.push({\"path\": '/data/appTagList'});\r\n          },5000)\r\n          this.$Modal.confirm({\r\n            title: '操作成功',\r\n            content: '5秒后自动跳应用专题列表',\r\n            cancelText: '确认',\r\n            okText: '下一篇',\r\n            loading: true,\r\n            onCancel: () => {\r\n              clearTimeout(timer)\r\n              this.$router.push({\"path\": '/data/appTagList'});\r\n            },\r\n            onOk: () => {\r\n              clearTimeout(timer)\r\n              this.$Modal.remove();\r\n              this.$router.push({\"path\": '/data/editTagapp'});\r\n            }\r\n          });\r\n          \r\n        } else {\r\n          this.$Message.error(res.msg)\r\n        }\r\n      })\r\n    },//表单数据提交\r\n    flagtype(flagtype) {\r\n      // console.log(this)\r\n      const val = flagtype == 1 ? this.formData.name : flagtype == 2 ? this.formData.fullname : this.formData.catalog;\r\n      if(val.trim() != ''){\r\n        const token = getToken(),\r\n              name = val,\r\n              type = 2,\r\n              flag = flagtype*1,\r\n              id = this.formData.id || '',\r\n              params = {token, name, type, flag, id};\r\n              // console.log(params,type)\r\n        api.checkTagsDirName(params).then(res =>{\r\n        if(res.code == 0) {\r\n          if(flag == 1) {\r\n            if(res.data[0] == -1) {\r\n              this.checkName = 'ok'\r\n            } else if(res.data[0] == 1) {\r\n              this.checkName = '已存在'\r\n            }\r\n          } else if (flag == 2) {\r\n            if(res.data[0] == -1) {\r\n              this.checkFullname = 'ok'\r\n            } else if(res.data[0] == 1) {\r\n              this.checkFullname = '已存在'\r\n            }\r\n          } else if(flag == 3) {\r\n            var catname = params.name\r\n            var patthrn=/.*[\\u4e00-\\u9fa5]+.*$/;\r\n            var patrn = /^[0-9]*$/;\r\n            if(patthrn.test(catname)) { \r\n                this.checkCatalog = '不能含有中文'\r\n                return false; \r\n            } \r\n            if(patrn.test(catname)) {\r\n                this.checkCatalog = '不能为纯数字'\r\n                return false; \r\n            }\r\n\r\n            if(res.data[0] == -1) {\r\n              this.checkCatalog = 'ok'\r\n            } else if(res.data[0] == 1) {\r\n              this.checkCatalog = '已存在'\r\n            }\r\n          }\r\n        } else {\r\n          this.$Message.error(res.msg)\r\n        }\r\n      })\r\n      } else {\r\n        const arr = ['专题简称', '专题全称', '专题目录'];\r\n        this.$Message.warning(`请输入${arr[(flagtype*1) - 1]}`)\r\n      }\r\n    },// flag状态判断\r\n    handleCheckName () {\r\n      return new Promise((resolve) => {\r\n        const token = getToken(),\r\n              name = this.formData.name,\r\n              type = type.flag,\r\n              flag = this.formData.flag,\r\n              id = this.formData.id,\r\n              params = {token, name, type, flag, id};\r\n              // console.log(params,type)\r\n\r\n        api.checkTagsDirName(params).then(res =>{\r\n          if(res.code == 0) {\r\n            if(res.data.status == 1) {\r\n              resolve({check: true})\r\n            } else {\r\n              resolve({check: false})\r\n            }\r\n          } else {\r\n            resolve({check: false})\r\n            this.$Message.error(res.msg)\r\n          }\r\n        }).catch(err => {\r\n          resolve({check: false})\r\n          this.$Message.error(err)\r\n        })\r\n\r\n      })\r\n    },//表单数据提交之前检测检测专题简称或者全称或者目录是否存在\r\n    getConfig (configParams) {\r\n      api.exetag(configParams).then(res => {\r\n        // console.log(res)\r\n        if(res.code == 0) {\r\n          this.data = res.data.tagInfo\r\n          this.id = res.data.id\r\n          if(this.editAllPlatType == 1) {\r\n            // console.log(res)\r\n            this.formData = {\r\n              name: '',\r\n              title: '',\r\n              keyword: '',\r\n              description: '',\r\n              fullname: '',\r\n              catalog: '',\r\n              img: '',\r\n              introduce: '',\r\n              is404: '2',\r\n              status: '1',\r\n              type: '2',\r\n              state: '1',\r\n              author: '',\r\n              check_updateTime: '0'\r\n            }\r\n          } else {\r\n            const data = res.data.tagInfo\r\n            // console.log(res)\r\n            this.formData = {\r\n              name: data.name || '',\r\n              title: data.title || '',\r\n              keyword: data.keyword || '',\r\n              description: data.description || '',\r\n              img: data.img || '',\r\n              fullname: data.fullname || '',\r\n              catalog: data.catalog || '',\r\n              introduce: data.introduce || '',\r\n              is404: data.is404*1 || '2',\r\n              tags: data.tags || '',\r\n              status: data.status*1 || '1',\r\n              type: data.type*1 || '2',\r\n              state: data.state*1 || '1',\r\n              author: data.author || '',\r\n              check_updateTime: data.check_updateTime*1 || '0'\r\n            }\r\n          }\r\n          if (res.data.tagInfo == undefined) {\r\n            // console.log(this.curIconUrl)\r\n          } else {\r\n            this.curIconUrl = (res.data.img_url + res.data.img)\r\n            // console.log(this.curIconUrl)\r\n          }\r\n          } else {\r\n            this.$Notice.error({ desc: res.msg })\r\n          }\r\n      })\r\n    },//配置获取\r\n    getFile (e) {\r\n      const file = e.target.files[0],\r\n            type = file.type,\r\n            limitType = 'jpg|jpeg|png',\r\n            limitTypeReg = new RegExp('.('+limitType+')$');\r\n\r\n      if (!limitTypeReg.test(type)) {\r\n        this.$Message.warning(`请传${limitType}图片`)\r\n      } else {\r\n        this.curIconFile = e.target.files[0];\r\n        this.curImgMsg = e.target.files[0];\r\n        let fr = new FileReader();\r\n        fr.onload = () => {\r\n          this.curIconUrl = fr.result\r\n        };\r\n        fr.readAsDataURL(this.curImgMsg)\r\n      }\r\n    },//icon file获取\r\n    clearArrSpace (data,type) {\r\n    if(type == 2) {\r\n      data.forEach((ele, i) => {\r\n        ele == '' ? data.splice(i,1) : null\r\n      })\r\n      return data;\r\n    } else if (type == 1) {\r\n      return data\r\n    }\r\n    \r\n    },//数组、字符格式化处理\r\n  },\r\n  watch: {\r\n    tagInfo: function() {\r\n      this.tagsAddConfig1.tags = this.formArr.tags\r\n    },\r\n    $route (to, from) {\r\n      if(to.fullPath != from.fullPath) {\r\n        this.reload()\r\n      }\r\n    }\r\n  },\r\n  components: {TagsAdd}\r\n}\r\n</script>\r\n\r\n<template>\r\n  <div>\r\n    <h3><Icon type=\"ios-add-circle-outline\" size=24 />编辑标签</h3>\r\n    \r\n    <Form ref=\"formData\" :model=\"formData\" :label-width=\"130\" :rules=\"ruleValidate\">\r\n      <FormItem label=\"专题简称\" prop=\"name\" >\r\n        <Input  v-model=\"formData.name\" class=\"snamebox\" @on-blur=\"flagtype(1)\"></Input>\r\n        <span :class=\"{err1: checkName != 'ok'}\" class=\"errbox\">{{ checkName }}</span>\r\n      </FormItem>\r\n\r\n      <FormItem label=\"专题全称\" prop=\"fullname\" :model=\"formData\">\r\n        <Input v-model=\"formData.fullname\" class=\"snamebox\" @on-blur=\"flagtype(2)\"></Input>\r\n        <span :class=\"{err2: checkFullname != 'ok'}\" class=\"errbox\">{{ checkFullname }}</span>\r\n      </FormItem>\r\n\r\n      <FormItem label=\"专题目录\" prop=\"catalog\" :model=\"formData\" >\r\n        <Input v-model=\"formData.catalog\"  class=\"snamebox\"  @on-blur=\"flagtype(3)\"></Input>\r\n        <span :class=\"{err3: checkCatalog != 'ok'}\" class=\"errbox\">{{ checkCatalog }}</span>\r\n        <p class=\"tips\">不能用纯数字或有中文</p>\r\n      </FormItem>\r\n\r\n      <FormItem label=\"专题分类\" >\r\n        <Select v-model=\"formData.type\" style=\"width:100px;\">\r\n            <Option v-for=\"itm, idx in formArr.tag_type\" :value=\"idx\" :key=\"idx\">{{ itm }}</Option>\r\n        </Select>\r\n      </FormItem>\r\n\r\n      <FormItem label=\"专题类型\" >\r\n        <Select v-model=\"formData.state\" style=\"width:100px;\">\r\n            <Option v-for=\"itm, idx in formArr.tag_state\" :value=\"idx\" :key=\"idx\">{{ itm }}</Option>\r\n        </Select>\r\n      </FormItem>\r\n\r\n      <FormItem label=\"网页标题\" prop=\"title\" :model=\"formData\">\r\n        <Input v-model=\"formData.title\"></Input>\r\n      </FormItem>\r\n\r\n      <FormItem label=\"网页关键词\" prop=\"keyword\" :model=\"formData\">\r\n        <Input v-model=\"formData.keyword\"></Input>\r\n      </FormItem>\r\n\r\n      <FormItem label=\"网页描述\" prop=\"description\" :model=\"formData\">\r\n        <Input v-model=\"formData.description\" type=\"textarea\" :autosize=\"{minRows: 4,maxRows: 15}\"></Input>\r\n      </FormItem>\r\n\r\n      <FormItem label=\"是否更改更新时间\" prop=\"check_updateTime\">\r\n        <RadioGroup v-model=\"formData.check_updateTime\">\r\n          <Radio label=\"1\">是</Radio>\r\n          <Radio label=\"0\">否</Radio>\r\n        </RadioGroup>\r\n      </FormItem>\r\n\r\n      <FormItem label=\"作者\" prop=\"author\" :model=\"formData\">\r\n        <Input v-model=\"formData.author\" class=\"authorbox\"></Input>\r\n      </FormItem>\r\n\r\n      <FormItem label=\"关联专题\" prop=\"tags\">\r\n        <TagsAdd \r\n          :tagsAddConfig=\"tagsAddConfig1\"\r\n          ref=\"tagsAddSwitch1\"\r\n          v-if=\"isLoaded\"\r\n        />\r\n      </FormItem>\r\n\r\n      <FormItem label=\"专题封面\" prop=\"img\" class=\"big iconBox\">\r\n        <div class=\"uploadBox\">\r\n          <div class=\"upload\">\r\n            <Icon type=\"ios-cloud-upload-outline\" size=18></Icon>\r\n            选择文件\r\n          </div>\r\n          <input type=\"file\" name=\"img\" value=\"\" @change=\"getFile($event)\">\r\n        </div>\r\n        <i style=\"margin-right:20px;\">{{curImgMsg.name}}</i>\r\n        <p class=\"tips\" >推荐尺寸:700*332</p>\r\n        <img class=\"defaultImg\" :src=\"curIconUrl\" alt=\"\">\r\n      </FormItem>\r\n\r\n      <FormItem label=\"专题介绍\" prop=\"introduce\" :model=\"formData\">\r\n        <Input v-model=\"formData.introduce\" type=\"textarea\" :autosize=\"{minRows: 4,maxRows: 15}\"></Input>\r\n      </FormItem>\r\n\r\n      <FormItem label=\"状态\" >\r\n        <Select v-model=\"formData.status\" style=\"width:100px;\">\r\n            <Option v-for=\"itm, idx in formArr.status\" :value=\"idx\" :key=\"idx\">{{ itm }}</Option>\r\n        </Select>\r\n      </FormItem>\r\n\r\n      <FormItem label=\"PC404\" >\r\n        <Select v-model=\"formData.is404\" style=\"width:100px;\">\r\n            <Option value=\"1\">已发布</Option>\r\n            <Option value=\"2\">隐藏</Option>\r\n            <Option value=\"3\">审核中</Option>\r\n            <Option value=\"4\">退回</Option>\r\n        </Select>\r\n      </FormItem>\r\n\r\n      <FormItem>\r\n        <Button type=\"primary\" @click=\"handleSubmit('formData')\">确认提交</Button>\r\n      </FormItem>\r\n    </Form>\r\n    \r\n\r\n  </div>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n  h3 {\r\n    margin-bottom: 20px;\r\n  }\r\n  .errbox{\r\n    color:green;\r\n    margin-left: 20px;\r\n    &.err1 {\r\n      color: red\r\n    }\r\n    &.err2 {\r\n      color: red\r\n    }\r\n    &.err3 {\r\n      color: red\r\n    }\r\n  }\r\n  .ivu-select {\r\n    width: 16%;\r\n  }\r\n  .ivu-input-wrapper {\r\n    width: 40%;\r\n  }\r\n  .tips {\r\n    display: contents;\r\n    color: orange;\r\n  }\r\n  .urlbox {\r\n    width: 40%;\r\n  }\r\n  .namebox {\r\n    width: 30%;\r\n  }\r\n  .snamebox {\r\n    width: 20%;\r\n  }\r\n  .img_urlbox {\r\n    width: 40%;\r\n  }\r\n  .authorbox{\r\n    width: 15%;\r\n  }\r\n  .big {\r\n    width: 50%;\r\n  }\r\n  .iconBox {\r\n    padding-bottom: 20px;\r\n  }\r\n  .uploadBox {\r\n    display: inline-block;\r\n    width: 100px;\r\n    height: 34px;\r\n    border-radius: 4px;\r\n    border: 1px dashed #ccc;\r\n    position: relative;\r\n    input {\r\n      opacity: 0;\r\n      width: 100px;\r\n      height: 32px;\r\n    }\r\n    .upload {\r\n      position: absolute;\r\n      top: 0;\r\n      left: 0;\r\n      width: 100px;\r\n      padding: 0 4px 0 12px;\r\n    }\r\n  }\r\n  .defaultImg {\r\n    position: absolute;\r\n    top: -20px;\r\n    right: 0;\r\n    max-width: 80px;\r\n    border: 1px dashed #ccc;\r\n  }\r\n  .iconBox {\r\n    padding-bottom: 20px;\r\n  }\r\n</style>\r\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editTag.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editTag.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./editTag.vue?vue&type=template&id=5a526ce1&scoped=true&\"\nimport script from \"./editTag.vue?vue&type=script&lang=js&\"\nexport * from \"./editTag.vue?vue&type=script&lang=js&\"\nimport style0 from \"./editTag.vue?vue&type=style&index=0&id=5a526ce1&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5a526ce1\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editTag.vue?vue&type=style&index=0&id=5a526ce1&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TagsAdd.vue?vue&type=style&index=0&id=49ce3c7a&lang=scss&scoped=true&\"","var PROPER_FUNCTION_NAME = require('../internals/function-name').PROPER;\nvar fails = require('../internals/fails');\nvar whitespaces = require('../internals/whitespaces');\n\nvar non = '\\u200B\\u0085\\u180E';\n\n// check that a method works with the correct list\n// of whitespaces and has a correct name\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    return !!whitespaces[METHOD_NAME]()\n      || non[METHOD_NAME]() !== non\n      || (PROPER_FUNCTION_NAME && whitespaces[METHOD_NAME].name !== METHOD_NAME);\n  });\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._l((_vm.tagList),function(item,idx){return _c('Tag',{key:idx,attrs:{\"name\":item.name,\"closable\":\"\"},on:{\"on-close\":function($event){return _vm.delRelevanceTag(item.id || item.sid, idx)}}},[_vm._v(_vm._s(item.name+(item.id||item.sid)))])}),_c('Button',{attrs:{\"icon\":\"ios-add\",\"type\":\"dashed\",\"size\":\"small\"},on:{\"click\":_vm.openTagsAddFun}},[_vm._v(\"添加标签\")]),_c('Modal',{attrs:{\"width\":\"800\"},model:{value:(_vm.openTagAdd),callback:function ($$v) {_vm.openTagAdd=$$v},expression:\"openTagAdd\"}},[_c('p',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('Icon',{attrs:{\"type\":\"ios-add-circle\",\"size\":\"18\"}}),_c('span',{staticStyle:{\"margin-left\":\"4px\"}},[_vm._v(\"关联添加\")])],1),_c('div',{staticClass:\"tagBox\"},[_c('div',{staticStyle:{\"display\":\"flex\"}},[_c('Input',{staticClass:\"small\",attrs:{\"clearable\":\"\",\"search\":\"\",\"enter-button\":\"\",\"placeholder\":\"在此输入名称搜索\"},on:{\"on-search\":function($event){return _vm.getRelevanceTag(true)}},model:{value:(_vm.selval),callback:function ($$v) {_vm.selval=$$v},expression:\"selval\"}}),(_vm.tagsAddConfig.type == 2)?_c('Select',{staticStyle:{\"width\":\"100px\",\"margin\":\"1px 0 0 10px\"},on:{\"on-change\":function($event){return _vm.getRelevanceTag(true)}},model:{value:(_vm.getRelevanceTagParams2.tagsid1),callback:function ($$v) {_vm.$set(_vm.getRelevanceTagParams2, \"tagsid1\", $$v)},expression:\"getRelevanceTagParams2.tagsid1\"}},[_c('Option',{attrs:{\"value\":\"0\"}},[_vm._v(\"标签\")]),_vm._l((_vm.tagsMenu),function(itm,idx){return _c('Option',{key:idx,attrs:{\"value\":itm.id}},[_vm._v(_vm._s(itm.name))])})],2):_vm._e(),(_vm.tagsAddConfig.type == 2)?_c('Select',{staticStyle:{\"width\":\"100px\",\"margin\":\"1px 0 0 10px\"},on:{\"on-change\":function($event){return _vm.getRelevanceTag(true)}},model:{value:(_vm.getRelevanceTagParams2.tagsid2),callback:function ($$v) {_vm.$set(_vm.getRelevanceTagParams2, \"tagsid2\", $$v)},expression:\"getRelevanceTagParams2.tagsid2\"}},[_c('Option',{attrs:{\"value\":\"0\"}},[_vm._v(\"标签\")]),_vm._l((_vm.tagsMenu),function(itm,idx){return _c('Option',{key:idx,attrs:{\"value\":itm.id}},[_vm._v(_vm._s(itm.name))])})],2):_vm._e(),(_vm.tagsAddConfig.type == 2)?_c('Select',{staticStyle:{\"width\":\"100px\",\"margin\":\"1px 0 0 10px\"},on:{\"on-change\":function($event){return _vm.getRelevanceTag(true)}},model:{value:(_vm.getRelevanceTagParams2.tagsid3),callback:function ($$v) {_vm.$set(_vm.getRelevanceTagParams2, \"tagsid3\", $$v)},expression:\"getRelevanceTagParams2.tagsid3\"}},[_c('Option',{attrs:{\"value\":\"0\"}},[_vm._v(\"标签\")]),_vm._l((_vm.tagsMenu),function(itm,idx){return _c('Option',{key:idx,attrs:{\"value\":itm.id}},[_vm._v(_vm._s(itm.name))])})],2):_vm._e()],1),(_vm.relevanceTagList.gamelist && _vm.relevanceTagList.gamelist.length>0)?_c('div',{staticClass:\"tagList\"},_vm._l((_vm.relevanceTagList.gamelist),function(itm,idx){return _c('span',{key:idx,on:{\"click\":function($event){return _vm.addRelevanceTag(itm)}}},[_vm._v(\" \"+_vm._s(itm.name)+\" \")])}),0):_c('div',{staticClass:\"tagListEmpty\"},[_c('div',[_c('Icon',{attrs:{\"type\":\"ios-ionitron-outline\",\"size\":\"26\"}}),_vm._v(\"查询为空\")],1)])]),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('Page',{staticStyle:{\"text-align\":\"right\"},attrs:{\"total\":_vm.relevanceTagList.totlerows*1,\"page-size\":40,\"size\":\"small\",\"show-total\":\"\",\"show-sizer\":\"\"},on:{\"on-page-size-change\":_vm.changePageNum,\"on-change\":_vm.changePage}})],1)])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\r\nimport api from '@/api'\r\nimport { getToken } from '@/api/auth'\r\n\r\nexport default {\r\n  name: 'tagsAdd',\r\n  props: {\r\n    /**\r\n     * 配置参数获取\r\n     * url 标签列表获取地址\r\n    */\r\n    tagsAddConfig: { type: Object}\r\n  },\r\n  data () {\r\n    return {\r\n      openTagAdd: false,\r\n      selval: '',\r\n      tagList: [],\r\n      tagListStr: '',\r\n      relevanceTagList: {},\r\n      tagsMenu: [],\r\n      tagsMenuAdd: [],\r\n      getRelevanceTagParams1: {\r\n        token: getToken(),\r\n        page: 1,\r\n        per_page: 40,\r\n        classify: 1,\r\n        selval: '',\r\n      },\r\n      getRelevanceTagParams2: {\r\n        token: getToken(),\r\n        gameid: this.tagsAddConfig.gameId,\r\n        page: 1,\r\n        per_page: 40,\r\n        classify: 1,\r\n        selval: '',\r\n        tags_id: '',\r\n        tagsid1: '0',\r\n        tagsid2: '0',\r\n        tagsid3: '0',\r\n      },\r\n    }\r\n  },\r\n  created () {\r\n    this.tagList = this.tagsAddConfig.tags || []\r\n    this.tagsMenu = this.tagsAddConfig.tagsMenu || []\r\n    this.getTagListStr(this.tagList)\r\n    this.getRelevanceTag();\r\n  },\r\n  methods: {\r\n    openTagsAddFun () {\r\n      // console.log(this.tagsMenuAdd)\r\n      this.openTagAdd = true\r\n    },\r\n    getRelevanceTag (flag) {\r\n      this.getRelevanceTagParams1.selval = this.selval;\r\n      this.getRelevanceTagParams2.selval = this.selval;\r\n      this.getRelevanceTagParams1.classify = this.tagsAddConfig.classify || 1;\r\n      this.getRelevanceTagParams2.classify = this.tagsAddConfig.classify || 1;\r\n      if(flag) {this.tagsAddConfig.type == 1 ? this.getRelevanceTagParams1.page = 1 : this.getRelevanceTagParams2.page = 1}\r\n      let params = this.tagsAddConfig.type == 1 ?  this.getRelevanceTagParams1 : this.getRelevanceTagParams2;\r\n      api[this.tagsAddConfig.url](params).then(res => {\r\n        if(res.code == 0) {\r\n          this.relevanceTagList = res.data\r\n        } else {\r\n          this.$Notice.error({\r\n            desc: res.msg\r\n          })\r\n        }\r\n      })\r\n    },//标签列表执行函数\r\n    addRelevanceTag (item) {\r\n      let isHave = this.tagListStr.split(',').some(ele => {\r\n        return ele == item.id\r\n      })//关联标签查重\r\n      console.log(this.tagListStr,item.id, isHave)\r\n      if(!isHave) {\r\n        this.tagListStr = this.tagListStr+=(item.id+',')\r\n        this.tagList.push({id:item.id, name: item.name})\r\n        this.$Message.success('关联添加成功')\r\n        this.tagsAddConfig.type == 1 ? this.tagsMenuAdd = this.tagList : null;\r\n        // console.log(this.tagListStr, this.tagList,this.tagsMenuAdd)\r\n      } else {\r\n        this.$Message.warning('当前关联标签id已经添加，请不要重复添加')\r\n      }\r\n    },//标签添加\r\n    delRelevanceTag (id, idx) {\r\n      let reg = new RegExp(id+',?')\r\n      this.tagListStr = this.tagListStr.replace(reg, '');\r\n      this.tagList.splice(idx, 1)\r\n      // console.log(id, idx)\r\n      // console.log(this.tagListStr, this.tagList)\r\n    },//标签删除\r\n    changePage (page) {\r\n      this.tagsAddConfig.type == 1 ? this.getRelevanceTagParams1.page = page*1 : this.getRelevanceTagParams2.page = page*1;\r\n      this.getRelevanceTag();\r\n    },//标签列表分页\r\n    changePageNum (num) {\r\n      this.tagsAddConfig.type == 1 ? this.getRelevanceTagParams1.page = 1 : this.getRelevanceTagParams2.page = 1;\r\n      this.tagsAddConfig.type == 1 ? this.getRelevanceTagParams1.per_page = num*1 : this.getRelevanceTagParams2.per_page = num*1;\r\n      this.getRelevanceTag();\r\n    },//标签列表每页显示数量\r\n    getTagListStr (tagsList) {\r\n      let tagsStr = ''\r\n      if(tagsList && tagsList.length>0) {\r\n        tagsList.forEach(ele => {\r\n          tagsStr+=((ele.id || ele.sid)+',')\r\n        })\r\n      } else {\r\n        tagsStr = ''\r\n      }\r\n      \r\n      this.tagListStr = tagsStr\r\n    }//标签列表id字符串集\r\n  }\r\n}\r\n</script>\r\n<template>\r\n  <div>\r\n    <!-- <input type=\"hidden\" v-model=\"formData.tags\"> -->\r\n    <Tag v-for=\"item,idx in tagList\" :key=\"idx\" :name=\"item.name\" closable @on-close=\"delRelevanceTag(item.id || item.sid, idx)\">{{item.name+(item.id||item.sid)}}</Tag>\r\n    <Button icon=\"ios-add\" type=\"dashed\" size=\"small\" @click=\"openTagsAddFun\">添加标签</Button>\r\n    <Modal v-model=\"openTagAdd\" width=\"800\">\r\n      <p slot=\"header\">\r\n        <Icon type=\"ios-add-circle\" size=18 />\r\n        <span style=\"margin-left:4px\">关联添加</span>\r\n      </p>\r\n      <div class=\"tagBox\">\r\n        <div style=\"display:flex\">\r\n          <Input v-model=\"selval\" clearable search enter-button placeholder=\"在此输入名称搜索\" class=\"small\" @on-search=\"getRelevanceTag(true)\" />\r\n          <Select v-model=\"getRelevanceTagParams2.tagsid1\" v-if=\"tagsAddConfig.type == 2\" style=\"width:100px;margin: 1px 0 0 10px\" @on-change=\"getRelevanceTag(true)\">\r\n            <Option value=\"0\">标签</Option>\r\n            <Option v-for=\"itm,idx in tagsMenu\" :value=\"itm.id\" :key=\"idx\">{{itm.name}}</Option>\r\n          </Select>\r\n          <Select v-model=\"getRelevanceTagParams2.tagsid2\" v-if=\"tagsAddConfig.type == 2\" style=\"width:100px;margin: 1px 0 0 10px\" @on-change=\"getRelevanceTag(true)\">\r\n            <Option value=\"0\">标签</Option>\r\n            <Option v-for=\"itm,idx in tagsMenu\" :value=\"itm.id\" :key=\"idx\">{{itm.name}}</Option>\r\n          </Select>\r\n          <Select v-model=\"getRelevanceTagParams2.tagsid3\" v-if=\"tagsAddConfig.type == 2\" style=\"width:100px;margin: 1px 0 0 10px\" @on-change=\"getRelevanceTag(true)\">\r\n            <Option value=\"0\">标签</Option>\r\n            <Option v-for=\"itm,idx in tagsMenu\" :value=\"itm.id\" :key=\"idx\">{{itm.name}}</Option>\r\n          </Select>\r\n        </div>\r\n        <div class=\"tagList\" v-if=\"relevanceTagList.gamelist && relevanceTagList.gamelist.length>0\">\r\n          <span \r\n            v-for=\"itm,idx in relevanceTagList.gamelist\" \r\n            @click=\"addRelevanceTag(itm)\"\r\n            :key=\"idx\">\r\n            {{itm.name}}\r\n          </span>\r\n        </div>\r\n        <div class=\"tagListEmpty\" v-else>\r\n          <div><Icon type=\"ios-ionitron-outline\" size=26 />查询为空</div>\r\n        </div>\r\n      </div>\r\n      <div slot=\"footer\">\r\n        <Page :total=\"relevanceTagList.totlerows*1\" :page-size=40 size=\"small\" show-total show-sizer style=\"text-align: right;\" @on-page-size-change=\"changePageNum\" @on-change=\"changePage\"  />\r\n      </div>\r\n    </Modal>\r\n  </div>\r\n</template>\r\n<style lang=\"scss\" scoped>\r\n  .smallest {\r\n    width: 13%;\r\n  }\r\n  .small {\r\n    width: 25%;\r\n  }\r\n  .default {\r\n    width: 40%;\r\n  }\r\n  .big {\r\n    width: 70%;\r\n  }\r\n  .tagList {\r\n    margin: 10px 0 0;\r\n    border: 1px solid #ccc;\r\n    border-radius: 4px;\r\n    span {\r\n      display: inline-block;\r\n      text-align: center;\r\n      padding: 15px;\r\n      cursor: pointer;\r\n      &:hover {\r\n        color: #2db7f5;\r\n      }\r\n    }\r\n  }\r\n  .tagListEmpty {\r\n    margin: 10px 0 0;\r\n    border: 1px solid #ccc;\r\n    border-radius: 4px;\r\n    height: 200px;\r\n    line-height: 200px;\r\n    text-align: center;\r\n    font-size: 17px;\r\n    i {\r\n      position: relative;\r\n      top: -4px\r\n    }\r\n  }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TagsAdd.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TagsAdd.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TagsAdd.vue?vue&type=template&id=49ce3c7a&scoped=true&\"\nimport script from \"./TagsAdd.vue?vue&type=script&lang=js&\"\nexport * from \"./TagsAdd.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TagsAdd.vue?vue&type=style&index=0&id=49ce3c7a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"49ce3c7a\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}