{"version":3,"sources":["webpack:///./src/views/ad/advert/sub-route/siteadd.vue?f33c","webpack:///./src/views/ad/advert/sub-route/siteadd.vue?c5d8","webpack:///src/views/ad/advert/sub-route/siteadd.vue","webpack:///./src/views/ad/advert/sub-route/siteadd.vue?7930","webpack:///./src/views/ad/advert/sub-route/siteadd.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","_v","ref","formCustom","ruleCustom","staticClass","model","value","callback","$$v","$set","expression","_l","itm","idx","key","_s","minRows","maxRows","on","$event","handleSubmit","staticStyle","handleReset","staticRenderFns","data","site","advertType","codes","num","adConfigData","mounted","$store","dispatch","getAdConfig","params","methods","$refs","name","validate","valid","console","log","api","title","res","msg","path","resetFields","component"],"mappings":"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","file":"js/chunk-1962d325.d13cbb37.js","sourcesContent":["export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./siteadd.vue?vue&type=style&index=0&id=1357424d&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h3',[_c('Icon',{attrs:{\"type\":\"ios-add-circle-outline\",\"size\":\"24\"}}),_vm._v(\"添加广告位\")],1),_c('Form',{ref:\"formCustom\",attrs:{\"model\":_vm.formCustom,\"rules\":_vm.ruleCustom,\"label-width\":80}},[_c('FormItem',{attrs:{\"label\":\"分组名称\",\"prop\":\"site\"}},[_c('Input',{staticClass:\"group\",model:{value:(_vm.formCustom.site),callback:function ($$v) {_vm.$set(_vm.formCustom, \"site\", $$v)},expression:\"formCustom.site\"}})],1),_c('FormItem',{attrs:{\"label\":\"广告类型\",\"prop\":\"advertType\"}},[_c('RadioGroup',{model:{value:(_vm.formCustom.advertType),callback:function ($$v) {_vm.$set(_vm.formCustom, \"advertType\", $$v)},expression:\"formCustom.advertType\"}},_vm._l((_vm.adConfigData),function(itm,idx){return _c('Radio',{key:idx,attrs:{\"label\":idx}},[_vm._v(_vm._s(itm))])}),1)],1),_c('FormItem',{attrs:{\"label\":\"相关代码\",\"prop\":\"codes\"}},[_c('Input',{attrs:{\"type\":\"textarea\",\"autosize\":{minRows: 12,maxRows: 20}},model:{value:(_vm.formCustom.codes),callback:function ($$v) {_vm.$set(_vm.formCustom, \"codes\", $$v)},expression:\"formCustom.codes\"}}),_c('p',[_vm._v(\"非必填选项，可不输入\")])],1),_c('FormItem',{staticClass:\"num\",attrs:{\"label\":\"显示条数\",\"prop\":\"num\"}},[_c('Input',{model:{value:(_vm.formCustom.num),callback:function ($$v) {_vm.$set(_vm.formCustom, \"num\", $$v)},expression:\"formCustom.num\"}})],1),_c('FormItem',[_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handleSubmit('formCustom')}}},[_vm._v(\"提交\")]),_c('Button',{staticStyle:{\"margin-left\":\"8px\"},on:{\"click\":function($event){return _vm.handleReset('formCustom')}}},[_vm._v(\"重置\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\r\nimport api from '@/api'\r\nimport { getToken } from '@/api/auth'\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      formCustom: {\r\n        site: '',\r\n        advertType: \"\",\r\n        codes: '',\r\n        num: ''\r\n      },\r\n      ruleCustom: {\r\n        site: [\r\n          { required: true, message: '分组名称不能为空', trigger: 'blur' }\r\n        ],\r\n        num: [\r\n          { required: true, message: '请输入显示条数',trigger: 'blur' }\r\n        ],\r\n        advertType:  [\r\n          { required: true, message: '请选择广告类型', trigger: 'change' }\r\n        ],\r\n      },\r\n      adConfigData: {}\r\n    }\r\n  },\r\n  mounted: function() {\r\n    this.$store.dispatch('GetAdMenu');//动态更新二级菜单\r\n\r\n    const token = getToken(),\r\n          params = {\"token\": token, \"type\": 2};\r\n\r\n    this.getAdConfig(params);\r\n  },\r\n  methods: {\r\n    handleSubmit (name) {\r\n      this.$refs[name].validate((valid) => {\r\n        if (valid) {\r\n          console.log(this.formCustom)\r\n          const token = getToken(),\r\n                site = this.formCustom.site,\r\n                advertType = this.formCustom.advertType*1,\r\n                codes = this.formCustom.codes,\r\n                num = this.formCustom.num*1,\r\n                params = {\"token\": token,\"type\": 1, \"site\": site, \"advertType\": advertType, \"codes\": codes, \"num\": num};\r\n          \r\n          api.siteadd(params).then(res => {\r\n            if(res.code == 0) {\r\n              this.$Notice.success({\r\n                title: res.msg\r\n              })\r\n\r\n              this.$router.push({\r\n                path: '/ad/advert'\r\n              })\r\n            }\r\n          })\r\n          \r\n        } else {\r\n          // this.$Notice.error({title: res.msg});\r\n        }\r\n      })\r\n    },\r\n    handleReset (name) {\r\n      this.$refs[name].resetFields();\r\n    },\r\n    getAdConfig (params) {\r\n      api.siteadd(params).then(res => {\r\n      if(res.code == 0) {\r\n        this.adConfigData = res.data\r\n      } else {\r\n        this.$Notice.error({\r\n          title: res.msg\r\n        })\r\n      }\r\n    })\r\n    }\r\n}\r\n}\r\n</script>\r\n<template>\r\n  <div>\r\n    <h3><Icon type=\"ios-add-circle-outline\" size=24 />添加广告位</h3>\r\n    <Form ref=\"formCustom\" :model=\"formCustom\" :rules=\"ruleCustom\" :label-width=\"80\">\r\n      <FormItem label=\"分组名称\" prop=\"site\">\r\n        <Input class=\"group\" v-model=\"formCustom.site\"></Input>\r\n      </FormItem>\r\n      <FormItem label=\"广告类型\" prop=\"advertType\">\r\n        <RadioGroup v-model=\"formCustom.advertType\">\r\n          <Radio v-for=\"itm,idx in adConfigData\" :label=\"idx\" :key=\"idx\">{{itm}}</Radio>\r\n        </RadioGroup>\r\n      </FormItem>\r\n      <FormItem label=\"相关代码\" prop=\"codes\">\r\n        <Input v-model=\"formCustom.codes\" type=\"textarea\" :autosize=\"{minRows: 12,maxRows: 20}\"></Input>\r\n        <p>非必填选项，可不输入</p>\r\n      </FormItem>\r\n      <FormItem class=\"num\" label=\"显示条数\" prop=\"num\">\r\n        <Input v-model=\"formCustom.num\"></Input>\r\n      </FormItem>\r\n      <FormItem>\r\n        <Button type=\"primary\" @click=\"handleSubmit('formCustom')\">提交</Button>\r\n        <Button @click=\"handleReset('formCustom')\" style=\"margin-left: 8px\">重置</Button>\r\n      </FormItem>\r\n    </Form>\r\n  </div>\r\n</template>\r\n<style lang=\"scss\" scoped>\r\n  h3 {\r\n    margin-bottom: 20px;\r\n  }\r\n  .ivu-form {\r\n\t\twidth: 40%;\r\n\t}\r\n  .group {\r\n    width: 40%;\r\n  }\r\n  .num {\r\n    width: 40%;\r\n  }\r\n</style>","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./siteadd.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./siteadd.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./siteadd.vue?vue&type=template&id=1357424d&scoped=true&\"\nimport script from \"./siteadd.vue?vue&type=script&lang=js&\"\nexport * from \"./siteadd.vue?vue&type=script&lang=js&\"\nimport style0 from \"./siteadd.vue?vue&type=style&index=0&id=1357424d&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1357424d\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}