{"version":3,"sources":["webpack:///./node_modules/core-js/internals/engine-ff-version.js","webpack:///./src/views/admin/modelList/modelAdd.vue?c5c0","webpack:///./node_modules/core-js/modules/es.array.sort.js","webpack:///./node_modules/core-js/internals/engine-webkit-version.js","webpack:///./node_modules/core-js/internals/array-method-is-strict.js","webpack:///./src/views/admin/modelList/modelAdd.vue?6c96","webpack:///src/views/admin/modelList/modelAdd.vue","webpack:///./src/views/admin/modelList/modelAdd.vue?6c64","webpack:///./src/views/admin/modelList/modelAdd.vue","webpack:///./node_modules/core-js/internals/array-sort.js","webpack:///./node_modules/core-js/internals/engine-is-ie-or-edge.js"],"names":["userAgent","firefox","match","module","exports","$","uncurryThis","aCallable","toObject","lengthOfArrayLike","toString","fails","internalSort","arrayMethodIsStrict","FF","IE_OR_EDGE","V8","WEBKIT","test","un$Sort","sort","push","FAILS_ON_UNDEFINED","undefined","FAILS_ON_NULL","STRICT_METHOD","STABLE_SORT","code","chr","value","index","result","String","fromCharCode","k","v","a","b","length","charAt","FORCED","getSortCompare","comparefn","x","y","target","proto","forced","array","this","itemsLength","items","arrayLength","webkit","METHOD_NAME","argument","method","call","render","_vm","_h","$createElement","_c","_self","attrs","_v","ref","formValidate","ruleValidate","on","setSecondMenu","model","callback","$$v","$set","expression","_l","itm","idx","key","id","_s","name","menuSecond","_e","minRows","maxRows","staticClass","$event","handleSubmit","staticRenderFns","data","menu_first","menu_second","desc","menuFirst","mounted","api","console","log","res","msg","err","methods","$refs","validate","valid","title","path","component","arraySlice","floor","Math","mergeSort","middle","insertionSort","merge","element","j","i","left","right","llength","rlength","lindex","rindex","UA"],"mappings":"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","file":"js/chunk-a6f2dea4.b170f43c.js","sourcesContent":["var userAgent = require('../internals/engine-user-agent');\n\nvar firefox = userAgent.match(/firefox\\/(\\d+)/i);\n\nmodule.exports = !!firefox && +firefox[1];\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./modelAdd.vue?vue&type=style&index=0&id=58036900&lang=scss&scoped=true&\"","'use strict';\nvar $ = require('../internals/export');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar aCallable = require('../internals/a-callable');\nvar toObject = require('../internals/to-object');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar toString = require('../internals/to-string');\nvar fails = require('../internals/fails');\nvar internalSort = require('../internals/array-sort');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar FF = require('../internals/engine-ff-version');\nvar IE_OR_EDGE = require('../internals/engine-is-ie-or-edge');\nvar V8 = require('../internals/engine-v8-version');\nvar WEBKIT = require('../internals/engine-webkit-version');\n\nvar test = [];\nvar un$Sort = uncurryThis(test.sort);\nvar push = uncurryThis(test.push);\n\n// IE8-\nvar FAILS_ON_UNDEFINED = fails(function () {\n  test.sort(undefined);\n});\n// V8 bug\nvar FAILS_ON_NULL = fails(function () {\n  test.sort(null);\n});\n// Old WebKit\nvar STRICT_METHOD = arrayMethodIsStrict('sort');\n\nvar STABLE_SORT = !fails(function () {\n  // feature detection can be too slow, so check engines versions\n  if (V8) return V8 < 70;\n  if (FF && FF > 3) return;\n  if (IE_OR_EDGE) return true;\n  if (WEBKIT) return WEBKIT < 603;\n\n  var result = '';\n  var code, chr, value, index;\n\n  // generate an array with more 512 elements (Chakra and old V8 fails only in this case)\n  for (code = 65; code < 76; code++) {\n    chr = String.fromCharCode(code);\n\n    switch (code) {\n      case 66: case 69: case 70: case 72: value = 3; break;\n      case 68: case 71: value = 4; break;\n      default: value = 2;\n    }\n\n    for (index = 0; index < 47; index++) {\n      test.push({ k: chr + index, v: value });\n    }\n  }\n\n  test.sort(function (a, b) { return b.v - a.v; });\n\n  for (index = 0; index < test.length; index++) {\n    chr = test[index].k.charAt(0);\n    if (result.charAt(result.length - 1) !== chr) result += chr;\n  }\n\n  return result !== 'DGBEFHACIJK';\n});\n\nvar FORCED = FAILS_ON_UNDEFINED || !FAILS_ON_NULL || !STRICT_METHOD || !STABLE_SORT;\n\nvar getSortCompare = function (comparefn) {\n  return function (x, y) {\n    if (y === undefined) return -1;\n    if (x === undefined) return 1;\n    if (comparefn !== undefined) return +comparefn(x, y) || 0;\n    return toString(x) > toString(y) ? 1 : -1;\n  };\n};\n\n// `Array.prototype.sort` method\n// https://tc39.es/ecma262/#sec-array.prototype.sort\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  sort: function sort(comparefn) {\n    if (comparefn !== undefined) aCallable(comparefn);\n\n    var array = toObject(this);\n\n    if (STABLE_SORT) return comparefn === undefined ? un$Sort(array) : un$Sort(array, comparefn);\n\n    var items = [];\n    var arrayLength = lengthOfArrayLike(array);\n    var itemsLength, index;\n\n    for (index = 0; index < arrayLength; index++) {\n      if (index in array) push(items, array[index]);\n    }\n\n    internalSort(items, getSortCompare(comparefn));\n\n    itemsLength = items.length;\n    index = 0;\n\n    while (index < itemsLength) array[index] = items[index++];\n    while (index < arrayLength) delete array[index++];\n\n    return array;\n  }\n});\n","var userAgent = require('../internals/engine-user-agent');\n\nvar webkit = userAgent.match(/AppleWebKit\\/(\\d+)\\./);\n\nmodule.exports = !!webkit && +webkit[1];\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call,no-throw-literal -- required for testing\n    method.call(null, argument || function () { throw 1; }, 1);\n  });\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h3',[_c('Icon',{attrs:{\"type\":\"ios-add-circle-outline\",\"size\":\"24\"}}),_vm._v(\"添加菜单\")],1),_c('Form',{ref:\"formValidate\",attrs:{\"model\":_vm.formValidate,\"rules\":_vm.ruleValidate,\"label-width\":80}},[_c('FormItem',{attrs:{\"label\":\"一级菜单\",\"prop\":\"menu_first\"}},[_c('Select',{attrs:{\"placeholder\":\"请选择需添加的菜单\"},on:{\"on-change\":_vm.setSecondMenu},model:{value:(_vm.formValidate.menu_first),callback:function ($$v) {_vm.$set(_vm.formValidate, \"menu_first\", $$v)},expression:\"formValidate.menu_first\"}},_vm._l((_vm.menuFirst),function(itm,idx){return _c('Option',{key:idx,attrs:{\"value\":itm.id}},[_vm._v(_vm._s(itm.name))])}),1)],1),(_vm.menuSecond.length>0)?_c('FormItem',{attrs:{\"label\":\"二级菜单\",\"prop\":\"menu_second\"}},[_c('Select',{attrs:{\"placeholder\":\"请选择需添加的菜单\"},model:{value:(_vm.formValidate.menu_second),callback:function ($$v) {_vm.$set(_vm.formValidate, \"menu_second\", $$v)},expression:\"formValidate.menu_second\"}},_vm._l((_vm.menuSecond),function(itm,idx){return _c('Option',{key:idx,attrs:{\"value\":itm.id}},[_vm._v(_vm._s(itm.name))])}),1)],1):_vm._e(),_c('FormItem',{attrs:{\"label\":\"详情\",\"prop\":\"desc\"}},[_c('Input',{attrs:{\"type\":\"textarea\",\"autosize\":{minRows: 2,maxRows: 8}},model:{value:(_vm.formValidate.desc),callback:function ($$v) {_vm.$set(_vm.formValidate, \"desc\", $$v)},expression:\"formValidate.desc\"}}),_c('p',{staticClass:\"tips\"},[_vm._v(\"格式“游戏系统,game|用户系统,user”,如果多个同级模块使用“|”分割,符号均为半角(逗号需为英文版)\")])],1),_c('FormItem',{attrs:{\"label\":\"排序\",\"prop\":\"sort\"}},[_c('Input',{staticClass:\"sortBox\",model:{value:(_vm.formValidate.sort),callback:function ($$v) {_vm.$set(_vm.formValidate, \"sort\", $$v)},expression:\"formValidate.sort\"}})],1),_c('FormItem',[_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handleSubmit('formValidate')}}},[_vm._v(\"提交\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\r\nimport api from '@/api'\r\nimport { getToken } from '@/api/auth'\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      formValidate: {\r\n        menu_first: '',\r\n        menu_second: '',\r\n        desc: '',\r\n        sort: \"100\",\r\n      },\r\n      ruleValidate: {\r\n        sort: [\r\n          { required: true, message: '请输入排序', trigger: 'blur' }\r\n        ],\r\n        menu_second: [\r\n          { required: true, message: '请选择需添加的菜单', trigger: 'change' }\r\n        ],\r\n        menu_first: [\r\n          { required: true, message: '请选择需添加的菜单', trigger: 'change' }\r\n        ],\r\n        desc: [\r\n          { required: true, message: '请添加详情', trigger: 'blur' }\r\n        ]\r\n      },\r\n      menuFirst: [],\r\n      menuSecond: []\r\n    }\r\n  },\r\n  mounted: function() {\r\n    const token = getToken(),\r\n          type = 2,\r\n          params = {\"token\": token, type: type};\r\n\r\n    api.modelAdd(params).then(res => {\r\n      console.log(res)\r\n      if(res.code == 0) {\r\n        this.menuFirst = res.data\r\n        this.menuFirst.unshift({id: \"0\", name: \"新增一级菜单\"})\r\n        console.log(this.menuFirst)\r\n      } else {\r\n        this.$Notice.error({\r\n          desc: res.msg\r\n        })\r\n      }\r\n    }).catch(err => {\r\n      this.$Notice.error({\r\n        desc: err\r\n      })\r\n    })\r\n  },\r\n  methods: {\r\n    handleSubmit (name) {\r\n      this.$refs[name].validate((valid) => {\r\n        if (valid) {\r\n          const token = getToken(),\r\n                type = 1,\r\n                models = this.formValidate.menu_first*1,\r\n                node = this.formValidate.menu_second*1,\r\n                sort = this.formValidate.sort*1,\r\n                content = this.formValidate.desc,\r\n                params = {\"token\": token, \"models\": models, \"type\": type, \"node\": node, \"sort\": sort, \"content\": content};\r\n\r\n          api.modelAdd(params).then(res => {\r\n            console.log(res)\r\n            if(res.code == 0) {\r\n              this.$Notice.success({\r\n                title: res.msg\r\n              });\r\n              this.$router.push({\r\n                path: '/admin/modelList'\r\n              });\r\n            } else {\r\n              this.$Notice.error({\r\n                desc: res.msg\r\n              })\r\n            }\r\n          }).catch(err => {\r\n            this.$Notice.error({\r\n              desc: err\r\n            })\r\n          })\r\n        } else {\r\n          // this.$Message.error('Fail!');\r\n        }\r\n      })\r\n    },\r\n    setSecondMenu () {\r\n      if(this.formValidate.menu_first != 0) {\r\n        const token = getToken(),\r\n              supmodel = this.formValidate.menu_first*1,\r\n              params = { \"token\": token, \"supmodel\": supmodel};\r\n\r\n        api.nodeList(params).then(res => {\r\n          this.menuSecond = res.data\r\n          this.menuSecond.unshift({id: \"0\", name: \"新增二级菜单\"})\r\n        })\r\n      } else {\r\n        this.menuSecond = []\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n<template>\r\n  <div>\r\n    <h3><Icon type=\"ios-add-circle-outline\" size=24 />添加菜单</h3>\r\n    <Form ref=\"formValidate\" :model=\"formValidate\" :rules=\"ruleValidate\" :label-width=\"80\">\r\n      <FormItem label=\"一级菜单\" prop=\"menu_first\">\r\n        <Select v-model=\"formValidate.menu_first\" @on-change=\"setSecondMenu\" placeholder=\"请选择需添加的菜单\">\r\n          <Option v-for=\"itm,idx in menuFirst\" :value=\"itm.id\" :key=\"idx\">{{itm.name}}</Option>\r\n        </Select>\r\n      </FormItem>\r\n      <FormItem label=\"二级菜单\" prop=\"menu_second\" v-if=\"menuSecond.length>0\">\r\n        <Select v-model=\"formValidate.menu_second\" placeholder=\"请选择需添加的菜单\">\r\n          <Option v-for=\"itm,idx in menuSecond\" :value=\"itm.id\" :key=\"idx\">{{itm.name}}</Option>\r\n        </Select>\r\n      </FormItem>\r\n      <FormItem label=\"详情\" prop=\"desc\">\r\n        <Input v-model=\"formValidate.desc\" type=\"textarea\" :autosize=\"{minRows: 2,maxRows: 8}\"></Input>\r\n        <p class=\"tips\">格式“游戏系统,game|用户系统,user”,如果多个同级模块使用“|”分割,符号均为半角(逗号需为英文版)</p>\r\n      </FormItem>\r\n      <FormItem label=\"排序\" prop=\"sort\">\r\n        <Input class=\"sortBox\" v-model=\"formValidate.sort\"></Input>\r\n      </FormItem>\r\n      <FormItem>\r\n        <Button type=\"primary\" @click=\"handleSubmit('formValidate')\">提交</Button>\r\n      </FormItem>\r\n    </Form>\r\n  </div>\r\n</template>\r\n<style lang=\"scss\" scoped>\r\n  h3 {\r\n    margin-bottom: 20px;\r\n  }\r\n  .ivu-select {\r\n    width: 16%;\r\n  }\r\n  .ivu-input-wrapper {\r\n    width: 40%;\r\n  }\r\n  .tips {\r\n    color: orange;\r\n  }\r\n  .sortBox {\r\n    width: 10%;\r\n  }\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./modelAdd.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./modelAdd.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./modelAdd.vue?vue&type=template&id=58036900&scoped=true&\"\nimport script from \"./modelAdd.vue?vue&type=script&lang=js&\"\nexport * from \"./modelAdd.vue?vue&type=script&lang=js&\"\nimport style0 from \"./modelAdd.vue?vue&type=style&index=0&id=58036900&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"58036900\",\n  null\n  \n)\n\nexport default component.exports","var arraySlice = require('../internals/array-slice');\n\nvar floor = Math.floor;\n\nvar mergeSort = function (array, comparefn) {\n  var length = array.length;\n  var middle = floor(length / 2);\n  return length < 8 ? insertionSort(array, comparefn) : merge(\n    array,\n    mergeSort(arraySlice(array, 0, middle), comparefn),\n    mergeSort(arraySlice(array, middle), comparefn),\n    comparefn\n  );\n};\n\nvar insertionSort = function (array, comparefn) {\n  var length = array.length;\n  var i = 1;\n  var element, j;\n\n  while (i < length) {\n    j = i;\n    element = array[i];\n    while (j && comparefn(array[j - 1], element) > 0) {\n      array[j] = array[--j];\n    }\n    if (j !== i++) array[j] = element;\n  } return array;\n};\n\nvar merge = function (array, left, right, comparefn) {\n  var llength = left.length;\n  var rlength = right.length;\n  var lindex = 0;\n  var rindex = 0;\n\n  while (lindex < llength || rindex < rlength) {\n    array[lindex + rindex] = (lindex < llength && rindex < rlength)\n      ? comparefn(left[lindex], right[rindex]) <= 0 ? left[lindex++] : right[rindex++]\n      : lindex < llength ? left[lindex++] : right[rindex++];\n  } return array;\n};\n\nmodule.exports = mergeSort;\n","var UA = require('../internals/engine-user-agent');\n\nmodule.exports = /MSIE|Trident/.test(UA);\n"],"sourceRoot":""}