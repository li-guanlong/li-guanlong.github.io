(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-59fd570b"],{"159b":function(t,e,a){var n=a("da84"),i=a("fdbc"),o=a("785a"),r=a("17c2"),s=a("9112"),l=function(t){if(t&&t.forEach!==r)try{s(t,"forEach",r)}catch(e){t.forEach=r}};for(var c in i)i[c]&&l(n[c]&&n[c].prototype);l(o)},"17c2":function(t,e,a){"use strict";var n=a("b727").forEach,i=a("a640"),o=i("forEach");t.exports=o?[].forEach:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}},"73d6":function(t,e,a){"use strict";a("b648")},a640:function(t,e,a){"use strict";var n=a("d039");t.exports=function(t,e){var a=[][t];return!!a&&n((function(){a.call(null,e||function(){throw 1},1)}))}},b0c0:function(t,e,a){var n=a("83ab"),i=a("5e77").EXISTS,o=a("e330"),r=a("9bf2").f,s=Function.prototype,l=o(s.toString),c=/^\s*function ([^ (]*)/,m=o(c.exec),d="name";n&&!i&&r(s,d,{configurable:!0,get:function(){try{return m(c,l(this))[1]}catch(t){return""}}})},b529:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h3",[a("Icon",{attrs:{type:"ios-home",size:"24"}}),t._v("主游戏列表")],1),a("div",{staticClass:"formBox"},[a("Button",{staticStyle:{width:"110px"},attrs:{type:"info",to:"/data/editAllGame"}},[t._v("添加主游戏"),a("Icon",{attrs:{type:"ios-nutrition",size:"14"}})],1),a("Select",{staticStyle:{width:"100px"},model:{value:t.formData.seltype,callback:function(e){t.$set(t.formData,"seltype",e)},expression:"formData.seltype"}},[a("Option",{attrs:{value:"name"}},[t._v("名称")]),a("Option",{attrs:{value:"id"}},[t._v("ID")])],1),a("Input",{staticStyle:{width:"200px"},attrs:{clearable:""},model:{value:t.formData.selval,callback:function(e){t.$set(t.formData,"selval",e)},expression:"formData.selval"}}),a("DatePicker",{staticStyle:{width:"200px"},attrs:{type:"datetime",options:t.datePreSet,placeholder:"选择开始日期"},on:{"on-change":t.getSTime},model:{value:t.formData.stime,callback:function(e){t.$set(t.formData,"stime",e)},expression:"formData.stime"}}),a("DatePicker",{staticStyle:{width:"200px"},attrs:{type:"datetime",options:t.datePreSet,placeholder:"选择结束日期"},on:{"on-change":t.getETime},model:{value:t.formData.etime,callback:function(e){t.$set(t.formData,"etime",e)},expression:"formData.etime"}}),a("Select",{staticStyle:{width:"100px"},on:{"on-change":t.handleForm},model:{value:t.formData.adminid,callback:function(e){t.$set(t.formData,"adminid",e)},expression:"formData.adminid"}},[a("Option",{attrs:{value:"0"}},[t._v("管理员")]),t._l(t.adminList,(function(e,n){return a("Option",{key:n,attrs:{value:e.uid}},[t._v(t._s(e.username))])}))],2),a("Select",{staticStyle:{width:"120px"},on:{"on-change":t.handleForm},model:{value:t.formData.show_down,callback:function(e){t.$set(t.formData,"show_down",e)},expression:"formData.show_down"}},[a("Option",{attrs:{value:"0"}},[t._v("下载聚合页")]),a("Option",{attrs:{value:"1"}},[t._v("是")]),a("Option",{attrs:{value:"2"}},[t._v("否")])],1),a("Button",{staticStyle:{width:"100px"},attrs:{type:"primary"},on:{click:t.handleForm}},[a("Icon",{attrs:{type:"ios-search",size:"16"}}),t._v(" 搜索 ")],1)],1),a("Table",{ref:"selection",attrs:{border:"",columns:t.columns,data:t.data,loading:t.isLoading}}),a("div",{staticStyle:{margin:"10px",overflow:"hidden"}},[a("div",{staticStyle:{float:"right"}},[a("Page",{attrs:{total:1*t.totalPages,"show-total":"","show-elevator":"","show-sizer":"","page-size":10},on:{"on-page-size-change":t.changePageNum,"on-change":t.changePage}})],1)])],1)},i=[],o=(a("159b"),a("b0c0"),a("365c")),r=a("3786"),s={inject:["reload"],data:function(){var t=this;return{columns:[{title:"ID",key:"id",align:"center"},{title:"名称",key:"name",align:"center"},{title:"关联游戏",key:"similar_sonName",align:"center"},{title:"类型",key:"type_name",align:"center"},{title:"添加时间",key:"formatTime",align:"center"},{title:"编辑(添加人/最后修改人)",key:"mergeAdmin",align:"center"},{title:"标签",key:"tagStr",align:"center"},{title:"状态",key:"state",align:"center",render:function(t,e){var a=e.row.state,n=1==a?"success":2==a?"info":3==a?"error":"warning",i=1==a?"正常":2==a?"下架":3==a?"删除":"-";return t("Tag",{props:{type:"dot",color:n}},i)}},{title:"操作",key:"action",align:"center",render:function(e,a){return e("div",[e("Button",{props:{type:"info",size:"small"},style:{margin:"0 4px 2px 0"},on:{click:function(){t.$router.push({path:"/data/editallgame",query:{id:a.row.id}})}}},"编辑"),e("Button",{props:{type:"warning",size:"small"},style:{margin:"0 4px 2px 0"},on:{click:function(){t.$router.push({path:"/data/editNewGame",query:{id:a.row.id}})}}},"添加游戏")])}}],data:[],datePreSet:{shortcuts:[{text:"现在",value:function(){var t=new Date,e="";return e+=t.getFullYear()+"-",e+=t.getMonth()+1+"-",e+=t.getDate()+" ",e+=t.getHours()+":",e+=t.getMinutes()+":",e+=t.getSeconds(),e},onClick:function(){}},{text:"昨天",value:function(){var t=new Date;t.setTime(t.getTime()-864e5);var e="";return e+=t.getFullYear()+"-",e+=t.getMonth()+1+"-",e+=t.getDate()+" ",e+=t.getHours()+":",e+=t.getMinutes()+":",e+=t.getSeconds(),e},onClick:function(){}},{text:"一周前",value:function(){var t=new Date;t.setTime(t.getTime()-6048e5);var e="";return e+=t.getFullYear()+"-",e+=t.getMonth()+1+"-",e+=t.getDate()+" ",e+=t.getHours()+":",e+=t.getMinutes()+":",e+=t.getSeconds(),e},onClick:function(){}}]},formData:{seltype:"name",selval:"",stime:"",etime:"",adminid:"0",show_down:"0"},adminList:{},totalPages:0,isLoading:!0}},mounted:function(){var t=this;this.isLoading=!1;var e=Object(r["b"])(),a=1,n=10,i="name",o="",s="",l="",c=0,m=0,d={token:e,page:a,per_page:n,seltype:i,selval:o,stime:s,etime:l,adminid:c,show_down:m};this.params=d,this.getData(),document.onkeydown=function(){var e=window.event.keyCode;13===e&&t.handleForm()}},methods:{handleForm:function(){var t=Object(r["b"])(),e=1*this.params.page,a=1*this.params.per_page,n=this.formData.seltype,i=this.formData.selval,o=this.formData.stime,s=this.formData.etime,l=this.formData.adminid,c=this.formData.show_down,m={token:t,page:e,per_page:a,seltype:n,selval:i,stime:o,etime:s,adminid:l,show_down:c};console.log(this.formData.stime),this.params=m,this.getData()},getData:function(){var t=this;this.isLoading=!0,o["a"].allGame(this.params).then((function(e){t.isLoading=!1,0==e.code?(t.adminList=e.data.adminlist,t.totalPages=e.data.totlerows,t.data=e.data.gamelist,t.data.forEach((function(e){e.type_name=0==e.type_name?"-":e.type_name,e.similar_son?(e.similar_sonName="",1==e.similar_son.length?e.similar_sonName=e.similar_son[0].name:e.similar_son.forEach((function(t){e.similar_sonName+=t.name+" | "}))):e.similar_sonName="-",e.tagLists?1==e.tagLists.length?e.tagStr=e.tagLists[0].name:e.tagLists.length>0?(e.tagStr="",e.tagLists.forEach((function(t){e.tagStr+=t.name+" | "}))):e.tagStr="-":e.tagStr="-",e.formatTime=t.$moment(1e3*e.addtime).format("YYYY-MM-DD k:mm"),e.mergeAdmin=(e.addadmin_name?e.addadmin_name:"")+" / "+(e.upadmin_name?e.upadmin_name:"")}))):t.$Notice.error({desc:e.msg})})).catch((function(e){t.$Notice.error({desc:e})}))},changePage:function(t){this.params.page=t,this.handleForm()},changePageNum:function(t){this.params.page=1,this.params.per_page=t,this.handleForm()},getSTime:function(t){this.formData.stime=t},getETime:function(t){this.formData.etime=t}}},l=s,c=(a("73d6"),a("2877")),m=Object(c["a"])(l,n,i,!1,null,"a42bba50",null);e["default"]=m.exports},b648:function(t,e,a){}}]);
//# sourceMappingURL=chunk-59fd570b.8f649b5f.js.map