{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.string.trim.js","webpack:///./src/components/TagsAdd.vue?d95b","webpack:///./node_modules/core-js/internals/string-trim-forced.js","webpack:///./src/views/data/special/tagList/sub-route/editTag.vue?16b8","webpack:///./src/components/TagsAdd.vue?edf8","webpack:///src/components/TagsAdd.vue","webpack:///./src/components/TagsAdd.vue?1d6f","webpack:///./src/components/TagsAdd.vue","webpack:///./src/views/data/special/tagList/sub-route/editTag.vue?ef33","webpack:///src/views/data/special/tagList/sub-route/editTag.vue","webpack:///./src/views/data/special/tagList/sub-route/editTag.vue?0ab2","webpack:///./src/views/data/special/tagList/sub-route/editTag.vue"],"names":["$","$trim","trim","forcedStringTrimMethod","target","proto","forced","this","PROPER_FUNCTION_NAME","PROPER","fails","whitespaces","non","module","exports","METHOD_NAME","name","render","_vm","_h","$createElement","_c","_self","_l","item","idx","key","attrs","on","$event","delRelevanceTag","id","sid","_v","_s","openTagsAddFun","model","value","callback","$$v","openTagAdd","expression","slot","staticStyle","staticClass","getRelevanceTag","selval","tagsAddConfig","type","getRelevanceTagParams2","$set","itm","_e","relevanceTagList","gamelist","length","addRelevanceTag","totlerows","changePageNum","changePage","staticRenderFns","props","data","tagList","tagListStr","tagsMenu","tagsMenuAdd","getRelevanceTagParams1","token","page","per_page","classify","gameid","gameId","tags_id","tagsid1","tagsid2","tagsid3","created","tags","getTagListStr","methods","api","desc","res","msg","ele","console","log","$Message","warning","push","success","replace","reg","splice","num","tagsList","forEach","tagsStr","component","ref","formData","ruleValidate","flagtype","class","err1","checkName","err2","checkFullname","err3","checkCatalog","formArr","minRows","maxRows","tagsAddConfig1","getFile","curImgMsg","curIconUrl","handleSubmit","inject","catalog","title","keyword","description","status","tag_state","tag_type","tagInfo","img_url","curIconFile","url","isLoaded","mounted","tagid","fullname","full_name","img","introduce","state","is404","author","check_updateTime","tagInfo1","$Spin","show","content","cancelText","okText","loading","onCancel","clearTimeout","timer","onOk","handleCheckName","Promise","resolve","getConfig","undefined","limitTypeReg","test","e","files","fr","onload","readAsDataURL","clearArrSpace","watch","$route","reload","components"],"mappings":"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","file":"js/chunk-e0207784.9e3ff09b.js","sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar $trim = require('../internals/string-trim').trim;\nvar forcedStringTrimMethod = require('../internals/string-trim-forced');\n\n// `String.prototype.trim` method\n// https://tc39.es/ecma262/#sec-string.prototype.trim\n$({ target: 'String', proto: true, forced: forcedStringTrimMethod('trim') }, {\n  trim: function trim() {\n    return $trim(this);\n  }\n});\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TagsAdd.vue?vue&type=style&index=0&id=49ce3c7a&lang=scss&scoped=true&\"","var PROPER_FUNCTION_NAME = require('../internals/function-name').PROPER;\nvar fails = require('../internals/fails');\nvar whitespaces = require('../internals/whitespaces');\n\nvar non = '\\u200B\\u0085\\u180E';\n\n// check that a method works with the correct list\n// of whitespaces and has a correct name\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    return !!whitespaces[METHOD_NAME]()\n      || non[METHOD_NAME]() !== non\n      || (PROPER_FUNCTION_NAME && whitespaces[METHOD_NAME].name !== METHOD_NAME);\n  });\n};\n","export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editTag.vue?vue&type=style&index=0&id=4f97e37e&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._l((_vm.tagList),function(item,idx){return _c('Tag',{key:idx,attrs:{\"name\":item.name,\"closable\":\"\"},on:{\"on-close\":function($event){return _vm.delRelevanceTag(item.id || item.sid, idx)}}},[_vm._v(_vm._s(item.name+(item.id||item.sid)))])}),_c('Button',{attrs:{\"icon\":\"ios-add\",\"type\":\"dashed\",\"size\":\"small\"},on:{\"click\":_vm.openTagsAddFun}},[_vm._v(\"添加标签\")]),_c('Modal',{attrs:{\"width\":\"800\"},model:{value:(_vm.openTagAdd),callback:function ($$v) {_vm.openTagAdd=$$v},expression:\"openTagAdd\"}},[_c('p',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('Icon',{attrs:{\"type\":\"ios-add-circle\",\"size\":\"18\"}}),_c('span',{staticStyle:{\"margin-left\":\"4px\"}},[_vm._v(\"关联添加\")])],1),_c('div',{staticClass:\"tagBox\"},[_c('div',{staticStyle:{\"display\":\"flex\"}},[_c('Input',{staticClass:\"small\",attrs:{\"clearable\":\"\",\"search\":\"\",\"enter-button\":\"\",\"placeholder\":\"在此输入名称搜索\"},on:{\"on-search\":function($event){return _vm.getRelevanceTag(true)}},model:{value:(_vm.selval),callback:function ($$v) {_vm.selval=$$v},expression:\"selval\"}}),(_vm.tagsAddConfig.type == 2)?_c('Select',{staticStyle:{\"width\":\"100px\",\"margin\":\"1px 0 0 10px\"},on:{\"on-change\":function($event){return _vm.getRelevanceTag(true)}},model:{value:(_vm.getRelevanceTagParams2.tagsid1),callback:function ($$v) {_vm.$set(_vm.getRelevanceTagParams2, \"tagsid1\", $$v)},expression:\"getRelevanceTagParams2.tagsid1\"}},[_c('Option',{attrs:{\"value\":\"0\"}},[_vm._v(\"标签\")]),_vm._l((_vm.tagsMenu),function(itm,idx){return _c('Option',{key:idx,attrs:{\"value\":itm.id}},[_vm._v(_vm._s(itm.name))])})],2):_vm._e(),(_vm.tagsAddConfig.type == 2)?_c('Select',{staticStyle:{\"width\":\"100px\",\"margin\":\"1px 0 0 10px\"},on:{\"on-change\":function($event){return _vm.getRelevanceTag(true)}},model:{value:(_vm.getRelevanceTagParams2.tagsid2),callback:function ($$v) {_vm.$set(_vm.getRelevanceTagParams2, \"tagsid2\", $$v)},expression:\"getRelevanceTagParams2.tagsid2\"}},[_c('Option',{attrs:{\"value\":\"0\"}},[_vm._v(\"标签\")]),_vm._l((_vm.tagsMenu),function(itm,idx){return _c('Option',{key:idx,attrs:{\"value\":itm.id}},[_vm._v(_vm._s(itm.name))])})],2):_vm._e(),(_vm.tagsAddConfig.type == 2)?_c('Select',{staticStyle:{\"width\":\"100px\",\"margin\":\"1px 0 0 10px\"},on:{\"on-change\":function($event){return _vm.getRelevanceTag(true)}},model:{value:(_vm.getRelevanceTagParams2.tagsid3),callback:function ($$v) {_vm.$set(_vm.getRelevanceTagParams2, \"tagsid3\", $$v)},expression:\"getRelevanceTagParams2.tagsid3\"}},[_c('Option',{attrs:{\"value\":\"0\"}},[_vm._v(\"标签\")]),_vm._l((_vm.tagsMenu),function(itm,idx){return _c('Option',{key:idx,attrs:{\"value\":itm.id}},[_vm._v(_vm._s(itm.name))])})],2):_vm._e()],1),(_vm.relevanceTagList.gamelist && _vm.relevanceTagList.gamelist.length>0)?_c('div',{staticClass:\"tagList\"},_vm._l((_vm.relevanceTagList.gamelist),function(itm,idx){return _c('span',{key:idx,on:{\"click\":function($event){return _vm.addRelevanceTag(itm)}}},[_vm._v(\" \"+_vm._s(itm.name)+\" \")])}),0):_c('div',{staticClass:\"tagListEmpty\"},[_c('div',[_c('Icon',{attrs:{\"type\":\"ios-ionitron-outline\",\"size\":\"26\"}}),_vm._v(\"查询为空\")],1)])]),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('Page',{staticStyle:{\"text-align\":\"right\"},attrs:{\"total\":_vm.relevanceTagList.totlerows*1,\"page-size\":40,\"size\":\"small\",\"show-total\":\"\",\"show-sizer\":\"\"},on:{\"on-page-size-change\":_vm.changePageNum,\"on-change\":_vm.changePage}})],1)])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\r\nimport api from '@/api'\r\nimport { getToken } from '@/api/auth'\r\n\r\nexport default {\r\n  name: 'tagsAdd',\r\n  props: {\r\n    /**\r\n     * 配置参数获取\r\n     * url 标签列表获取地址\r\n    */\r\n    tagsAddConfig: { type: Object}\r\n  },\r\n  data () {\r\n    return {\r\n      openTagAdd: false,\r\n      selval: '',\r\n      tagList: [],\r\n      tagListStr: '',\r\n      relevanceTagList: {},\r\n      tagsMenu: [],\r\n      tagsMenuAdd: [],\r\n      getRelevanceTagParams1: {\r\n        token: getToken(),\r\n        page: 1,\r\n        per_page: 40,\r\n        classify: 1,\r\n        selval: '',\r\n      },\r\n      getRelevanceTagParams2: {\r\n        token: getToken(),\r\n        gameid: this.tagsAddConfig.gameId,\r\n        page: 1,\r\n        per_page: 40,\r\n        classify: 1,\r\n        selval: '',\r\n        tags_id: '',\r\n        tagsid1: '0',\r\n        tagsid2: '0',\r\n        tagsid3: '0',\r\n      },\r\n    }\r\n  },\r\n  created () {\r\n    this.tagList = this.tagsAddConfig.tags || []\r\n    this.tagsMenu = this.tagsAddConfig.tagsMenu || []\r\n    this.getTagListStr(this.tagList)\r\n    this.getRelevanceTag();\r\n  },\r\n  methods: {\r\n    openTagsAddFun () {\r\n      // console.log(this.tagsMenuAdd)\r\n      this.openTagAdd = true\r\n    },\r\n    getRelevanceTag (flag) {\r\n      this.getRelevanceTagParams1.selval = this.selval;\r\n      this.getRelevanceTagParams2.selval = this.selval;\r\n      this.getRelevanceTagParams1.classify = this.tagsAddConfig.classify || 1;\r\n      this.getRelevanceTagParams2.classify = this.tagsAddConfig.classify || 1;\r\n      if(flag) {this.tagsAddConfig.type == 1 ? this.getRelevanceTagParams1.page = 1 : this.getRelevanceTagParams2.page = 1}\r\n      let params = this.tagsAddConfig.type == 1 ?  this.getRelevanceTagParams1 : this.getRelevanceTagParams2;\r\n      api[this.tagsAddConfig.url](params).then(res => {\r\n        if(res.code == 0) {\r\n          this.relevanceTagList = res.data\r\n        } else {\r\n          this.$Notice.error({\r\n            desc: res.msg\r\n          })\r\n        }\r\n      })\r\n    },//标签列表执行函数\r\n    addRelevanceTag (item) {\r\n      let isHave = this.tagListStr.split(',').some(ele => {\r\n        return ele == item.id\r\n      })//关联标签查重\r\n      console.log(this.tagListStr,item.id, isHave)\r\n      if(!isHave) {\r\n        this.tagListStr = this.tagListStr+=(item.id+',')\r\n        this.tagList.push({id:item.id, name: item.name})\r\n        this.$Message.success('关联添加成功')\r\n        this.tagsAddConfig.type == 1 ? this.tagsMenuAdd = this.tagList : null;\r\n        // console.log(this.tagListStr, this.tagList,this.tagsMenuAdd)\r\n      } else {\r\n        this.$Message.warning('当前关联标签id已经添加，请不要重复添加')\r\n      }\r\n    },//标签添加\r\n    delRelevanceTag (id, idx) {\r\n      let reg = new RegExp(id+',?')\r\n      this.tagListStr = this.tagListStr.replace(reg, '');\r\n      this.tagList.splice(idx, 1)\r\n      // console.log(id, idx)\r\n      // console.log(this.tagListStr, this.tagList)\r\n    },//标签删除\r\n    changePage (page) {\r\n      this.tagsAddConfig.type == 1 ? this.getRelevanceTagParams1.page = page*1 : this.getRelevanceTagParams2.page = page*1;\r\n      this.getRelevanceTag();\r\n    },//标签列表分页\r\n    changePageNum (num) {\r\n      this.tagsAddConfig.type == 1 ? this.getRelevanceTagParams1.page = 1 : this.getRelevanceTagParams2.page = 1;\r\n      this.tagsAddConfig.type == 1 ? this.getRelevanceTagParams1.per_page = num*1 : this.getRelevanceTagParams2.per_page = num*1;\r\n      this.getRelevanceTag();\r\n    },//标签列表每页显示数量\r\n    getTagListStr (tagsList) {\r\n      let tagsStr = ''\r\n      if(tagsList && tagsList.length>0) {\r\n        tagsList.forEach(ele => {\r\n          tagsStr+=((ele.id || ele.sid)+',')\r\n        })\r\n      } else {\r\n        tagsStr = ''\r\n      }\r\n      \r\n      this.tagListStr = tagsStr\r\n    }//标签列表id字符串集\r\n  }\r\n}\r\n</script>\r\n<template>\r\n  <div>\r\n    <!-- <input type=\"hidden\" v-model=\"formData.tags\"> -->\r\n    <Tag v-for=\"item,idx in tagList\" :key=\"idx\" :name=\"item.name\" closable @on-close=\"delRelevanceTag(item.id || item.sid, idx)\">{{item.name+(item.id||item.sid)}}</Tag>\r\n    <Button icon=\"ios-add\" type=\"dashed\" size=\"small\" @click=\"openTagsAddFun\">添加标签</Button>\r\n    <Modal v-model=\"openTagAdd\" width=\"800\">\r\n      <p slot=\"header\">\r\n        <Icon type=\"ios-add-circle\" size=18 />\r\n        <span style=\"margin-left:4px\">关联添加</span>\r\n      </p>\r\n      <div class=\"tagBox\">\r\n        <div style=\"display:flex\">\r\n          <Input v-model=\"selval\" clearable search enter-button placeholder=\"在此输入名称搜索\" class=\"small\" @on-search=\"getRelevanceTag(true)\" />\r\n          <Select v-model=\"getRelevanceTagParams2.tagsid1\" v-if=\"tagsAddConfig.type == 2\" style=\"width:100px;margin: 1px 0 0 10px\" @on-change=\"getRelevanceTag(true)\">\r\n            <Option value=\"0\">标签</Option>\r\n            <Option v-for=\"itm,idx in tagsMenu\" :value=\"itm.id\" :key=\"idx\">{{itm.name}}</Option>\r\n          </Select>\r\n          <Select v-model=\"getRelevanceTagParams2.tagsid2\" v-if=\"tagsAddConfig.type == 2\" style=\"width:100px;margin: 1px 0 0 10px\" @on-change=\"getRelevanceTag(true)\">\r\n            <Option value=\"0\">标签</Option>\r\n            <Option v-for=\"itm,idx in tagsMenu\" :value=\"itm.id\" :key=\"idx\">{{itm.name}}</Option>\r\n          </Select>\r\n          <Select v-model=\"getRelevanceTagParams2.tagsid3\" v-if=\"tagsAddConfig.type == 2\" style=\"width:100px;margin: 1px 0 0 10px\" @on-change=\"getRelevanceTag(true)\">\r\n            <Option value=\"0\">标签</Option>\r\n            <Option v-for=\"itm,idx in tagsMenu\" :value=\"itm.id\" :key=\"idx\">{{itm.name}}</Option>\r\n          </Select>\r\n        </div>\r\n        <div class=\"tagList\" v-if=\"relevanceTagList.gamelist && relevanceTagList.gamelist.length>0\">\r\n          <span \r\n            v-for=\"itm,idx in relevanceTagList.gamelist\" \r\n            @click=\"addRelevanceTag(itm)\"\r\n            :key=\"idx\">\r\n            {{itm.name}}\r\n          </span>\r\n        </div>\r\n        <div class=\"tagListEmpty\" v-else>\r\n          <div><Icon type=\"ios-ionitron-outline\" size=26 />查询为空</div>\r\n        </div>\r\n      </div>\r\n      <div slot=\"footer\">\r\n        <Page :total=\"relevanceTagList.totlerows*1\" :page-size=40 size=\"small\" show-total show-sizer style=\"text-align: right;\" @on-page-size-change=\"changePageNum\" @on-change=\"changePage\"  />\r\n      </div>\r\n    </Modal>\r\n  </div>\r\n</template>\r\n<style lang=\"scss\" scoped>\r\n  .smallest {\r\n    width: 13%;\r\n  }\r\n  .small {\r\n    width: 25%;\r\n  }\r\n  .default {\r\n    width: 40%;\r\n  }\r\n  .big {\r\n    width: 70%;\r\n  }\r\n  .tagList {\r\n    margin: 10px 0 0;\r\n    border: 1px solid #ccc;\r\n    border-radius: 4px;\r\n    span {\r\n      display: inline-block;\r\n      text-align: center;\r\n      padding: 15px;\r\n      cursor: pointer;\r\n      &:hover {\r\n        color: #2db7f5;\r\n      }\r\n    }\r\n  }\r\n  .tagListEmpty {\r\n    margin: 10px 0 0;\r\n    border: 1px solid #ccc;\r\n    border-radius: 4px;\r\n    height: 200px;\r\n    line-height: 200px;\r\n    text-align: center;\r\n    font-size: 17px;\r\n    i {\r\n      position: relative;\r\n      top: -4px\r\n    }\r\n  }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TagsAdd.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TagsAdd.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TagsAdd.vue?vue&type=template&id=49ce3c7a&scoped=true&\"\nimport script from \"./TagsAdd.vue?vue&type=script&lang=js&\"\nexport * from \"./TagsAdd.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TagsAdd.vue?vue&type=style&index=0&id=49ce3c7a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"49ce3c7a\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h3',[_c('Icon',{attrs:{\"type\":\"ios-add-circle-outline\",\"size\":\"24\"}}),_vm._v(\"编辑标签\")],1),_c('Form',{ref:\"formData\",attrs:{\"model\":_vm.formData,\"label-width\":130,\"rules\":_vm.ruleValidate}},[_c('FormItem',{attrs:{\"label\":\"专题简称\",\"prop\":\"name\"}},[_c('Input',{staticClass:\"snamebox\",on:{\"on-blur\":function($event){return _vm.flagtype(1)}},model:{value:(_vm.formData.name),callback:function ($$v) {_vm.$set(_vm.formData, \"name\", $$v)},expression:\"formData.name\"}}),_c('span',{staticClass:\"errbox\",class:{err1: _vm.checkName != 'ok'}},[_vm._v(_vm._s(_vm.checkName))])],1),_c('FormItem',{attrs:{\"label\":\"专题全称\",\"prop\":\"fullname\",\"model\":_vm.formData}},[_c('Input',{staticClass:\"snamebox\",on:{\"on-blur\":function($event){return _vm.flagtype(2)}},model:{value:(_vm.formData.fullname),callback:function ($$v) {_vm.$set(_vm.formData, \"fullname\", $$v)},expression:\"formData.fullname\"}}),_c('span',{staticClass:\"errbox\",class:{err2: _vm.checkFullname != 'ok'}},[_vm._v(_vm._s(_vm.checkFullname))])],1),_c('FormItem',{attrs:{\"label\":\"专题目录\",\"prop\":\"catalog\",\"model\":_vm.formData}},[_c('Input',{staticClass:\"snamebox\",on:{\"on-blur\":function($event){return _vm.flagtype(3)}},model:{value:(_vm.formData.catalog),callback:function ($$v) {_vm.$set(_vm.formData, \"catalog\", $$v)},expression:\"formData.catalog\"}}),_c('span',{staticClass:\"errbox\",class:{err3: _vm.checkCatalog != 'ok'}},[_vm._v(_vm._s(_vm.checkCatalog))]),_c('p',{staticClass:\"tips\"},[_vm._v(\"不能用纯数字或有中文\")])],1),_c('FormItem',{attrs:{\"label\":\"专题分类\"}},[_c('Select',{staticStyle:{\"width\":\"100px\"},model:{value:(_vm.formData.type),callback:function ($$v) {_vm.$set(_vm.formData, \"type\", $$v)},expression:\"formData.type\"}},_vm._l((_vm.formArr.tag_type),function(itm,idx){return _c('Option',{key:idx,attrs:{\"value\":idx}},[_vm._v(_vm._s(itm))])}),1)],1),_c('FormItem',{attrs:{\"label\":\"专题类型\"}},[_c('Select',{staticStyle:{\"width\":\"100px\"},model:{value:(_vm.formData.state),callback:function ($$v) {_vm.$set(_vm.formData, \"state\", $$v)},expression:\"formData.state\"}},_vm._l((_vm.formArr.tag_state),function(itm,idx){return _c('Option',{key:idx,attrs:{\"value\":idx}},[_vm._v(_vm._s(itm))])}),1)],1),_c('FormItem',{attrs:{\"label\":\"网页标题\",\"prop\":\"title\",\"model\":_vm.formData}},[_c('Input',{model:{value:(_vm.formData.title),callback:function ($$v) {_vm.$set(_vm.formData, \"title\", $$v)},expression:\"formData.title\"}})],1),_c('FormItem',{attrs:{\"label\":\"网页关键词\",\"prop\":\"keyword\",\"model\":_vm.formData}},[_c('Input',{model:{value:(_vm.formData.keyword),callback:function ($$v) {_vm.$set(_vm.formData, \"keyword\", $$v)},expression:\"formData.keyword\"}})],1),_c('FormItem',{attrs:{\"label\":\"网页描述\",\"prop\":\"description\",\"model\":_vm.formData}},[_c('Input',{attrs:{\"type\":\"textarea\",\"autosize\":{minRows: 4,maxRows: 15}},model:{value:(_vm.formData.description),callback:function ($$v) {_vm.$set(_vm.formData, \"description\", $$v)},expression:\"formData.description\"}})],1),_c('FormItem',{attrs:{\"label\":\"是否更改更新时间\",\"prop\":\"check_updateTime\"}},[_c('RadioGroup',{model:{value:(_vm.formData.check_updateTime),callback:function ($$v) {_vm.$set(_vm.formData, \"check_updateTime\", $$v)},expression:\"formData.check_updateTime\"}},[_c('Radio',{attrs:{\"label\":\"1\"}},[_vm._v(\"是\")]),_c('Radio',{attrs:{\"label\":\"0\"}},[_vm._v(\"否\")])],1)],1),_c('FormItem',{attrs:{\"label\":\"作者\",\"prop\":\"author\",\"model\":_vm.formData}},[_c('Input',{staticClass:\"authorbox\",model:{value:(_vm.formData.author),callback:function ($$v) {_vm.$set(_vm.formData, \"author\", $$v)},expression:\"formData.author\"}})],1),_c('FormItem',{attrs:{\"label\":\"关联专题\",\"prop\":\"tags\"}},[(_vm.isLoaded)?_c('TagsAdd',{ref:\"tagsAddSwitch1\",attrs:{\"tagsAddConfig\":_vm.tagsAddConfig1}}):_vm._e()],1),_c('FormItem',{staticClass:\"big iconBox\",attrs:{\"label\":\"专题封面\",\"prop\":\"img\"}},[_c('div',{staticClass:\"uploadBox\"},[_c('div',{staticClass:\"upload\"},[_c('Icon',{attrs:{\"type\":\"ios-cloud-upload-outline\",\"size\":\"18\"}}),_vm._v(\" 选择文件 \")],1),_c('input',{attrs:{\"type\":\"file\",\"name\":\"img\",\"value\":\"\"},on:{\"change\":function($event){return _vm.getFile($event)}}})]),_c('i',{staticStyle:{\"margin-right\":\"20px\"}},[_vm._v(_vm._s(_vm.curImgMsg.name))]),_c('p',{staticClass:\"tips\"},[_vm._v(\"推荐尺寸:700*332\")]),_c('img',{staticClass:\"defaultImg\",attrs:{\"src\":_vm.curIconUrl,\"alt\":\"\"}})]),_c('FormItem',{attrs:{\"label\":\"专题介绍\",\"prop\":\"introduce\",\"model\":_vm.formData}},[_c('Input',{attrs:{\"type\":\"textarea\",\"autosize\":{minRows: 4,maxRows: 15}},model:{value:(_vm.formData.introduce),callback:function ($$v) {_vm.$set(_vm.formData, \"introduce\", $$v)},expression:\"formData.introduce\"}})],1),_c('FormItem',{attrs:{\"label\":\"状态\"}},[_c('Select',{staticStyle:{\"width\":\"100px\"},model:{value:(_vm.formData.status),callback:function ($$v) {_vm.$set(_vm.formData, \"status\", $$v)},expression:\"formData.status\"}},_vm._l((_vm.formArr.status),function(itm,idx){return _c('Option',{key:idx,attrs:{\"value\":idx}},[_vm._v(_vm._s(itm))])}),1)],1),_c('FormItem',{attrs:{\"label\":\"PC404\"}},[_c('Select',{staticStyle:{\"width\":\"100px\"},model:{value:(_vm.formData.is404),callback:function ($$v) {_vm.$set(_vm.formData, \"is404\", $$v)},expression:\"formData.is404\"}},[_c('Option',{attrs:{\"value\":\"1\"}},[_vm._v(\"已发布\")]),_c('Option',{attrs:{\"value\":\"2\"}},[_vm._v(\"隐藏\")]),_c('Option',{attrs:{\"value\":\"3\"}},[_vm._v(\"审核中\")]),_c('Option',{attrs:{\"value\":\"4\"}},[_vm._v(\"退回\")])],1)],1),_c('FormItem',[_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handleSubmit('formData')}}},[_vm._v(\"确认提交\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\r\nimport api from '@/api'\r\nimport { getToken } from '@/api/auth'\r\nimport TagsAdd from '@/components/TagsAdd'\r\n\r\nexport default {\r\n  inject: ['reload'],\r\n  data() {\r\n    return {\r\n      data: [],\r\n        formData: {\r\n          id: '',\r\n          name: '',\r\n          title: '',\r\n          keyword: '',\r\n          description: '',\r\n          fullname: '',\r\n          catalog: '',\r\n          type: '1', //游戏\r\n          introduce: '',\r\n          state: '1',\r\n          tag_type: '1',\r\n          tag_state: '1',\r\n          status: '1',\r\n          website: '',\r\n          img: '',\r\n          is404: '2',\r\n          type_category: '1',\r\n          check_updateTime: '0',\r\n          tags: '',\r\n          flag: '',\r\n          editAllPlatType: 1, //\r\n          editAllPlat: '',\r\n      },\r\n      \r\n      ruleValidate: {\r\n        name: [\r\n          { required: true, message: '请输入专题名称', trigger: 'blur' },\r\n          // { required: true, message: '专题简称已存在', trigger: 'blur' }\r\n        ],\r\n        catalog: [\r\n          { required: true, message: '请输入专题目录', trigger: 'blur' }\r\n        ],\r\n        title: [\r\n          { required: true, message: '请输入网页标题', trigger: 'blur' }\r\n        ],\r\n        keyword: [\r\n          { required: true, message: '请输入网页关键词', trigger: 'blur' }\r\n        ],\r\n        description: [\r\n          { required: true, message: '请输入网页描述', trigger: 'blur' }\r\n        ],\r\n      },\r\n      formArr: {\r\n        status: [],\r\n        tag_state: [],\r\n        tag_type: [],\r\n        tags: []\r\n      },\r\n      tagInfo: [],\r\n      img_url: '',\r\n      curIconFile: {},\r\n      curIconUrl: '',\r\n      curImgMsg: {name: '未选择任何文件'},\r\n      checkName: '',\r\n      checkFullname: '',\r\n      checkCatalog: '',\r\n      // openTagAdd: false,//关联\r\n      // getRelevanceTagParams: {},\r\n      // relevanceTagList: {},\r\n      tagsAddConfig1: {\r\n        url: 'searchTagList',\r\n        classify: 1,\r\n        tags: [],\r\n        type:1\r\n      },//关联标签添加配置\r\n      isLoaded: false,\r\n    }\r\n  },\r\n  mounted () {\r\n    const token = getToken(),\r\n    tagid = this.$route.query.id || '',\r\n    params = {\"token\":token, \"tagid\":tagid, \"type\":1};\r\n    this.tagid ? {token,type:1,} : {token,tagid,type:1};\r\n\r\n    api.editTag(params).then(res => {\r\n      if(res.code == 0) {\r\n        \r\n        // console.log(res,this.tagid)\r\n        let {status, tag_state, tag_type} = res.data.config;\r\n        //  console.log(this.$route.query.id)\r\n        if(tagid) {\r\n          const {id, name, full_name, catalog, type, title, keyword, description, img=this.curIconFile, introduce, state, is404, tags, author, status, check_updateTime='0', } = res.data.tagInfo;\r\n          this.formData = {\r\n            id,\r\n            name,\r\n            fullname: full_name,\r\n            catalog,\r\n            type,\r\n            title,\r\n            keyword,\r\n            description,\r\n            img,\r\n            introduce,\r\n            state,\r\n            is404,\r\n            tags,\r\n            author,\r\n            check_updateTime,\r\n            status,\r\n          };\r\n        }\r\n        // console.log(this.formData)\r\n        this.formArr = {\r\n          status: status,\r\n          tag_state: tag_state,\r\n          tag_type: tag_type,\r\n          tags: res.data.tagInfo1\r\n        };//列数据传值\r\n          this.tagInfo = res.data.tagInfo1 || [];\r\n          this.isLoaded = true;\r\n          // console.log(this.formArr.tags)\r\n         if (res.data.tagInfo == undefined) {\r\n            // console.log(this.curIconUrl)\r\n          } else {\r\n            this.curIconUrl = (res.data.tagInfo.img_url)\r\n            // console.log(res.data.tagInfo.img_url)\r\n          }\r\n      } else {\r\n        this.$Notice.error({\r\n          desc: res.msg\r\n        })\r\n      }\r\n    })\r\n\r\n\r\n  },\r\n  methods: {\r\n    handleSubmit () {\r\n      this.$Spin.show();\r\n      let tagStr = this.clearArrSpace(this.$refs.tagsAddSwitch1.tagListStr,1);\r\n      // console.log(tagStr)\r\n      const token = getToken(),\r\n          id = this.$route.query.id*1 || '',\r\n          name = this.formData.name,\r\n          title = this.formData.title,\r\n          keyword = this.formData.keyword,\r\n          description = this.formData.description,\r\n          fullname = this.formData.fullname,\r\n          catalog = this.formData.catalog,\r\n          status = this.formData.status*1,\r\n          type = this.formData.type*1,\r\n          state = this.formData.state*1,\r\n          introduce = this.formData.introduce,\r\n          author = this.formData.author,\r\n          is404 = this.formData.is404*1,\r\n          relation_id = tagStr,\r\n          img = this.curIconFile,\r\n          check_updateTime = this.formData.check_updateTime*1 || 0;\r\n          \r\n          // console.log(this.curIconFile)\r\n          const fr = new FormData();\r\n            fr.append(\"token\",token);\r\n            fr.append(\"id\",id);\r\n            fr.append(\"name\",name);\r\n            fr.append(\"title\",title);\r\n            fr.append(\"keyword\",keyword);\r\n            fr.append(\"status\",status);\r\n            fr.append(\"description\",description);\r\n            fr.append(\"fullname\",fullname);\r\n            fr.append(\"catalog\",catalog);\r\n            fr.append(\"type\",type);\r\n            fr.append(\"state\",state);\r\n            fr.append(\"introduce\",introduce);\r\n            fr.append(\"author\",author);\r\n            fr.append(\"is404\",is404);\r\n            fr.append(\"relation_id\",relation_id);\r\n            fr.append(\"img\",img);\r\n            fr.append(\"check_updateTime\",check_updateTime);\r\n          const params = fr;\r\n      // console.log(params)\r\n\r\n      api.exetag(params).then(res => {\r\n        this.$Spin.hide();\r\n        if(res.code == 0) {\r\n          // console.log(res)\r\n          const timer = setTimeout(() => {\r\n            this.$Modal.remove();\r\n            this.$router.push({\"path\": '/data/tagList'});\r\n          },5000)\r\n          this.$Modal.confirm({\r\n            title: '操作成功',\r\n            content: '5秒后自动跳转游戏专题列表',\r\n            cancelText: '确认',\r\n            okText: '下一篇',\r\n            loading: true,\r\n            onCancel: () => {\r\n              clearTimeout(timer)\r\n              this.$router.push({\"path\": '/data/tagList'});\r\n            },\r\n            onOk: () => {\r\n              clearTimeout(timer)\r\n              this.$Modal.remove();\r\n              this.$router.push({\"path\": '/data/editTag'});\r\n            }\r\n          });\r\n          \r\n        } else {\r\n          this.$Message.error(res.msg)\r\n        }\r\n      })\r\n    },//表单数据提交\r\n    flagtype(flagtype) {\r\n      // console.log(this)\r\n      const val = flagtype == 1 ? this.formData.name : flagtype == 2 ? this.formData.fullname : this.formData.catalog;\r\n      if(val.trim() != ''){\r\n        const token = getToken(),\r\n              name = val,\r\n              type = 1,\r\n              flag = flagtype*1,\r\n              id = this.formData.id || '',\r\n              params = {token, name, type, flag, id};\r\n              // console.log(params,type)\r\n        api.checkTagsDirName(params).then(res =>{\r\n        if(res.code == 0) {\r\n          if(flag == 1) {\r\n            if(res.data[0] == -1) {\r\n              this.checkName = 'ok'\r\n            } else if(res.data[0] == 1) {\r\n              this.checkName = '已存在'\r\n            }\r\n          } else if (flag == 2) {\r\n            if(res.data[0] == -1) {\r\n              this.checkFullname = 'ok'\r\n            } else if(res.data[0] == 1) {\r\n              this.checkFullname = '已存在'\r\n            }\r\n          } else if(flag == 3) {\r\n            var catname = params.name\r\n            var patthrn=/.*[\\u4e00-\\u9fa5]+.*$/;\r\n            var patrn = /^[0-9]*$/;\r\n            if(patthrn.test(catname)) { \r\n                this.checkCatalog = '不能含有中文'\r\n                return false; \r\n            } \r\n            if(patrn.test(catname)) {\r\n                this.checkCatalog = '不能为纯数字'\r\n                return false; \r\n            }\r\n\r\n            if(res.data[0] == -1) {\r\n              this.checkCatalog = 'ok'\r\n            } else if(res.data[0] == 1) {\r\n              this.checkCatalog = '已存在'\r\n            }\r\n          }\r\n        } else {\r\n          this.$Message.error(res.msg)\r\n        }\r\n      })\r\n      } else {\r\n        const arr = ['专题简称', '专题全称', '专题目录'];\r\n        this.$Message.warning(`请输入${arr[(flagtype*1) - 1]}`)\r\n      }\r\n    },// flag状态判断\r\n    handleCheckName () {\r\n      return new Promise((resolve) => {\r\n        const token = getToken(),\r\n              name = this.formData.name,\r\n              type = type.flag,\r\n              flag = this.formData.flag,\r\n              id = this.formData.id,\r\n              params = {token, name, type, flag, id};\r\n              // console.log(params,type)\r\n\r\n        api.checkTagsDirName(params).then(res =>{\r\n          if(res.code == 0) {\r\n            if(res.data.status == 1) {\r\n              resolve({check: true})\r\n            } else {\r\n              resolve({check: false})\r\n            }\r\n          } else {\r\n            resolve({check: false})\r\n            this.$Message.error(res.msg)\r\n          }\r\n        }).catch(err => {\r\n          resolve({check: false})\r\n          this.$Message.error(err)\r\n        })\r\n\r\n      })\r\n    },//表单数据提交之前检测检测专题简称或者全称或者目录是否存在\r\n    getConfig (configParams) {\r\n      api.exetag(configParams).then(res => {\r\n        // console.log(res)\r\n        if(res.code == 0) {\r\n          this.data = res.data.tagInfo\r\n          this.id = res.data.id\r\n          if(this.editAllPlatType == 1) {\r\n            // console.log(res)\r\n            this.formData = {\r\n              name: '',\r\n              title: '',\r\n              keyword: '',\r\n              description: '',\r\n              fullname: '',\r\n              catalog: '',\r\n              img: '',\r\n              introduce: '',\r\n              is404: '2',\r\n              status: '1',\r\n              type: '1',\r\n              state: '1',\r\n              author: '',\r\n              check_updateTime: '0'\r\n            }\r\n          } else {\r\n            const data = res.data.tagInfo\r\n            // console.log(res)\r\n            this.formData = {\r\n              name: data.name || '',\r\n              title: data.title || '',\r\n              keyword: data.keyword || '',\r\n              description: data.description || '',\r\n              img: data.img || '',\r\n              fullname: data.fullname || '',\r\n              catalog: data.catalog || '',\r\n              introduce: data.introduce || '',\r\n              is404: data.is404*1 || '2',\r\n              tags: data.tags || '',\r\n              status: data.status*1 || '1',\r\n              type: data.type*1 || '1',\r\n              state: data.state*1 || '1',\r\n              author: data.author || '',\r\n              check_updateTime: data.check_updateTime*1 || '0'\r\n            }\r\n          }\r\n          if (res.data.tagInfo == undefined) {\r\n            // console.log(this.curIconUrl)\r\n          } else {\r\n            this.curIconUrl = (res.data.img_url + res.data.img)\r\n            // console.log(this.curIconUrl)\r\n          }\r\n          } else {\r\n            this.$Notice.error({ desc: res.msg })\r\n          }\r\n      })\r\n    },//配置获取\r\n    getFile (e) {\r\n      const file = e.target.files[0],\r\n            type = file.type,\r\n            limitType = 'jpg|jpeg|png',\r\n            limitTypeReg = new RegExp('.('+limitType+')$');\r\n\r\n      if (!limitTypeReg.test(type)) {\r\n        this.$Message.warning(`请传${limitType}图片`)\r\n      } else {\r\n        this.curIconFile = e.target.files[0];\r\n        this.curImgMsg = e.target.files[0];\r\n        let fr = new FileReader();\r\n        fr.onload = () => {\r\n          this.curIconUrl = fr.result\r\n        };\r\n        fr.readAsDataURL(this.curImgMsg)\r\n      }\r\n    },//icon file获取\r\n    clearArrSpace (data,type) {\r\n    if(type == 2) {\r\n      data.forEach((ele, i) => {\r\n        ele == '' ? data.splice(i,1) : null\r\n      })\r\n      return data;\r\n    } else if (type == 1) {\r\n      return data\r\n    }\r\n    \r\n    },//数组、字符格式化处理\r\n  },\r\n  watch: {\r\n    tagInfo: function() {\r\n      this.tagsAddConfig1.tags = this.formArr.tags\r\n    },\r\n    $route (to, from) {\r\n      if(to.fullPath != from.fullPath) {\r\n        this.reload()\r\n      }\r\n    }\r\n  },\r\n  components: {TagsAdd}\r\n}\r\n</script>\r\n\r\n<template>\r\n  <div>\r\n    <h3><Icon type=\"ios-add-circle-outline\" size=24 />编辑标签</h3>\r\n    \r\n    <Form ref=\"formData\" :model=\"formData\" :label-width=\"130\" :rules=\"ruleValidate\">\r\n      <FormItem label=\"专题简称\" prop=\"name\" >\r\n        <Input  v-model=\"formData.name\" class=\"snamebox\" @on-blur=\"flagtype(1)\"></Input>\r\n        <span :class=\"{err1: checkName != 'ok'}\" class=\"errbox\">{{ checkName }}</span>\r\n      </FormItem>\r\n\r\n      <FormItem label=\"专题全称\" prop=\"fullname\" :model=\"formData\">\r\n        <Input v-model=\"formData.fullname\" class=\"snamebox\" @on-blur=\"flagtype(2)\"></Input>\r\n        <span :class=\"{err2: checkFullname != 'ok'}\" class=\"errbox\">{{ checkFullname }}</span>\r\n      </FormItem>\r\n\r\n      <FormItem label=\"专题目录\" prop=\"catalog\" :model=\"formData\" >\r\n        <Input v-model=\"formData.catalog\"  class=\"snamebox\"  @on-blur=\"flagtype(3)\"></Input>\r\n        <span :class=\"{err3: checkCatalog != 'ok'}\" class=\"errbox\">{{ checkCatalog }}</span>\r\n        <p class=\"tips\">不能用纯数字或有中文</p>\r\n      </FormItem>\r\n\r\n      <FormItem label=\"专题分类\" >\r\n        <Select v-model=\"formData.type\" style=\"width:100px;\">\r\n            <Option v-for=\"itm, idx in formArr.tag_type\" :value=\"idx\" :key=\"idx\">{{ itm }}</Option>\r\n        </Select>\r\n      </FormItem>\r\n\r\n      <FormItem label=\"专题类型\" >\r\n        <Select v-model=\"formData.state\" style=\"width:100px;\">\r\n            <Option v-for=\"itm, idx in formArr.tag_state\" :value=\"idx\" :key=\"idx\">{{ itm }}</Option>\r\n        </Select>\r\n      </FormItem>\r\n\r\n      <FormItem label=\"网页标题\" prop=\"title\" :model=\"formData\">\r\n        <Input v-model=\"formData.title\"></Input>\r\n      </FormItem>\r\n\r\n      <FormItem label=\"网页关键词\" prop=\"keyword\" :model=\"formData\">\r\n        <Input v-model=\"formData.keyword\"></Input>\r\n      </FormItem>\r\n\r\n      <FormItem label=\"网页描述\" prop=\"description\" :model=\"formData\">\r\n        <Input v-model=\"formData.description\" type=\"textarea\" :autosize=\"{minRows: 4,maxRows: 15}\"></Input>\r\n      </FormItem>\r\n\r\n      <FormItem label=\"是否更改更新时间\" prop=\"check_updateTime\">\r\n        <RadioGroup v-model=\"formData.check_updateTime\">\r\n          <Radio label=\"1\">是</Radio>\r\n          <Radio label=\"0\">否</Radio>\r\n        </RadioGroup>\r\n      </FormItem>\r\n\r\n      <FormItem label=\"作者\" prop=\"author\" :model=\"formData\">\r\n        <Input v-model=\"formData.author\" class=\"authorbox\"></Input>\r\n      </FormItem>\r\n\r\n      <FormItem label=\"关联专题\" prop=\"tags\">\r\n        <TagsAdd \r\n          :tagsAddConfig=\"tagsAddConfig1\"\r\n          ref=\"tagsAddSwitch1\"\r\n          v-if=\"isLoaded\"\r\n        />\r\n      </FormItem>\r\n\r\n      <FormItem label=\"专题封面\" prop=\"img\" class=\"big iconBox\">\r\n        <div class=\"uploadBox\">\r\n          <div class=\"upload\">\r\n            <Icon type=\"ios-cloud-upload-outline\" size=18></Icon>\r\n            选择文件\r\n          </div>\r\n          <input type=\"file\" name=\"img\" value=\"\" @change=\"getFile($event)\">\r\n        </div>\r\n        <i style=\"margin-right:20px;\">{{curImgMsg.name}}</i>\r\n        <p class=\"tips\" >推荐尺寸:700*332</p>\r\n        <img class=\"defaultImg\" :src=\"curIconUrl\" alt=\"\">\r\n      </FormItem>\r\n\r\n      <FormItem label=\"专题介绍\" prop=\"introduce\" :model=\"formData\">\r\n        <Input v-model=\"formData.introduce\" type=\"textarea\" :autosize=\"{minRows: 4,maxRows: 15}\"></Input>\r\n      </FormItem>\r\n\r\n      <FormItem label=\"状态\" >\r\n        <Select v-model=\"formData.status\" style=\"width:100px;\">\r\n            <Option v-for=\"itm, idx in formArr.status\" :value=\"idx\" :key=\"idx\">{{ itm }}</Option>\r\n        </Select>\r\n      </FormItem>\r\n\r\n      <FormItem label=\"PC404\" >\r\n        <Select v-model=\"formData.is404\" style=\"width:100px;\">\r\n            <Option value=\"1\">已发布</Option>\r\n            <Option value=\"2\">隐藏</Option>\r\n            <Option value=\"3\">审核中</Option>\r\n            <Option value=\"4\">退回</Option>\r\n        </Select>\r\n      </FormItem>\r\n\r\n      <FormItem>\r\n        <Button type=\"primary\" @click=\"handleSubmit('formData')\">确认提交</Button>\r\n      </FormItem>\r\n    </Form>\r\n    \r\n\r\n  </div>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n  h3 {\r\n    margin-bottom: 20px;\r\n  }\r\n  .errbox{\r\n    color:green;\r\n    margin-left: 20px;\r\n    &.err1 {\r\n      color: red\r\n    }\r\n    &.err2 {\r\n      color: red\r\n    }\r\n    &.err3 {\r\n      color: red\r\n    }\r\n  }\r\n  .ivu-select {\r\n    width: 16%;\r\n  }\r\n  .ivu-input-wrapper {\r\n    width: 40%;\r\n  }\r\n  .tips {\r\n    display: contents;\r\n    color: orange;\r\n  }\r\n  .urlbox {\r\n    width: 40%;\r\n  }\r\n  .namebox {\r\n    width: 30%;\r\n  }\r\n  .snamebox {\r\n    width: 20%;\r\n  }\r\n  .img_urlbox {\r\n    width: 40%;\r\n  }\r\n  .authorbox{\r\n    width: 15%;\r\n  }\r\n  .big {\r\n    width: 50%;\r\n  }\r\n  .iconBox {\r\n    padding-bottom: 20px;\r\n  }\r\n  .uploadBox {\r\n    display: inline-block;\r\n    width: 100px;\r\n    height: 34px;\r\n    border-radius: 4px;\r\n    border: 1px dashed #ccc;\r\n    position: relative;\r\n    input {\r\n      opacity: 0;\r\n      width: 100px;\r\n      height: 32px;\r\n    }\r\n    .upload {\r\n      position: absolute;\r\n      top: 0;\r\n      left: 0;\r\n      width: 100px;\r\n      padding: 0 4px 0 12px;\r\n    }\r\n  }\r\n  .defaultImg {\r\n    position: absolute;\r\n    top: -20px;\r\n    right: 0;\r\n    max-width: 80px;\r\n    border: 1px dashed #ccc;\r\n  }\r\n  .iconBox {\r\n    padding-bottom: 20px;\r\n  }\r\n</style>\r\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editTag.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editTag.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./editTag.vue?vue&type=template&id=4f97e37e&scoped=true&\"\nimport script from \"./editTag.vue?vue&type=script&lang=js&\"\nexport * from \"./editTag.vue?vue&type=script&lang=js&\"\nimport style0 from \"./editTag.vue?vue&type=style&index=0&id=4f97e37e&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4f97e37e\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}