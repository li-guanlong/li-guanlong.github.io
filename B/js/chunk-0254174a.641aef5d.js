(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0254174a"],{"159b":function(t,a,e){var n=e("da84"),i=e("fdbc"),o=e("785a"),r=e("17c2"),s=e("9112"),c=function(t){if(t&&t.forEach!==r)try{s(t,"forEach",r)}catch(a){t.forEach=r}};for(var l in i)i[l]&&c(n[l]&&n[l].prototype);c(o)},"17c2":function(t,a,e){"use strict";var n=e("b727").forEach,i=e("a640"),o=i("forEach");t.exports=o?[].forEach:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}},"85fa":function(t,a,e){"use strict";e("f769")},a640:function(t,a,e){"use strict";var n=e("d039");t.exports=function(t,a){var e=[][t];return!!e&&n((function(){e.call(null,a||function(){throw 1},1)}))}},b0c0:function(t,a,e){var n=e("83ab"),i=e("5e77").EXISTS,o=e("e330"),r=e("9bf2").f,s=Function.prototype,c=o(s.toString),l=/^\s*function ([^ (]*)/,d=o(l.exec),u="name";n&&!i&&r(s,u,{configurable:!0,get:function(){try{return d(l,c(this))[1]}catch(t){return""}}})},c5fa:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("h3",[e("Icon",{attrs:{type:"md-barcode",size:"24"}}),t._v("游戏专题列表")],1),e("div",{staticClass:"formBox"},[e("div",{staticClass:"searchBar"},[e("Button",{attrs:{type:"primary",to:"/data/editTag"}},[t._v("添加专题")])],1),e("div",{staticClass:"idbox"},[e("span",[t._v("名称：")]),e("Input",{staticStyle:{width:"200px"},attrs:{clearable:""},model:{value:t.gametagModel,callback:function(a){t.gametagModel=a},expression:"gametagModel"}})],1),e("Button",{staticStyle:{width:"100px"},attrs:{type:"primary"},on:{click:function(a){return t.setNewData()}}},[e("Icon",{attrs:{type:"ios-search",size:"16"}}),t._v(" 搜索 ")],1),e("Select",{staticStyle:{width:"100px"},on:{"on-change":t.setchData},model:{value:t.statusModel,callback:function(a){t.statusModel=a},expression:"statusModel"}},[e("Option",{attrs:{value:"0"}},[t._v("状态")]),e("Option",{attrs:{value:"1"}},[t._v("已发布")]),e("Option",{attrs:{value:"2"}},[t._v("隐藏")]),e("Option",{attrs:{value:"3"}},[t._v("审核中")]),e("Option",{attrs:{value:"4"}},[t._v("已退回")])],1)],1),e("Table",{ref:"selection",attrs:{border:"",columns:t.columns,data:t.data,loading:t.isLoading}}),e("Modal",{attrs:{width:"400",styles:{top:"40%"}},model:{value:t.warnModal,callback:function(a){t.warnModal=a},expression:"warnModal"}},[e("p",{staticStyle:{color:"#333","text-align":"center"},attrs:{slot:"header"},slot:"header"},[e("span",[t._v("提示")])]),e("div",{staticStyle:{"text-align":"center"}},[e("p",[t._v("确认要"+t._s(t.statustxt)+"吗")])]),e("div",{attrs:{slot:"footer"},slot:"footer"},[e("Button",{staticStyle:{width:"170px","margin-right":"10px"},attrs:{type:"primary",size:"small",long:"",loading:t.modal_loading},on:{click:t.adminGroupDel}},[t._v("确认")]),e("Button",{staticStyle:{width:"170px"},attrs:{size:"small",long:"",loading:t.modal_loading},on:{click:t.deminGroupDel}},[t._v("取消")])],1)]),e("div",{staticStyle:{margin:"10px",overflow:"hidden"}},[e("div",{staticStyle:{float:"right"}},[e("Page",{attrs:{total:1*t.totalPages,"show-total":"","show-elevator":"","show-sizer":""},on:{"on-page-size-change":t.changePageNum,"on-change":t.changePage}})],1)])],1)},i=[],o=(e("b0c0"),e("159b"),e("ac1f"),e("5319"),e("365c")),r=e("3786"),s={inject:["reload"],data:function(){var t=this;return{columns:[{title:"ID",key:"id",width:80,align:"center"},{title:"名称",key:"name",width:320,align:"center"},{title:"分类",key:"tag_type",width:100,align:"center"},{title:"主题类型",key:"tag_state",width:100,align:"center"},{title:"添加时间",key:"addtime",width:160,align:"center"},{title:"关联标签",key:"taginfo1",width:"",align:"center",render:function(t,a){if(a.row){var e=a.row.taglisttaginfo1;return t("div",{},e)}}},{title:"状态",key:"status",width:160,align:"center",render:function(a,e){if(e.row){var n=e.row.status,i=1==n?"已发布":2==n?"隐藏":"-",o=2==n?"bold":"normal";return a("div",{style:{fontWeight:o,cursor:"pointer"},on:{click:function(){t.warnModal=!0,t.statustxt=1==n?"隐藏":"发布",t.curMid=e.row.id,t.curstatus=e.row.status}}},i)}}},{title:"关联游戏",key:"gcount",width:160,align:"center",render:function(a,e){var n=e.row.id,i=e.row.gcount;return a("a",{style:{color:"#515a6e"},on:{click:function(){t.$router.push({query:{tagid:n,page:"1"},path:"/data/tagGame"})}}},i)}},{title:"操作",key:"action",width:200,align:"center",render:function(a,e){var n=e.row.m_url,i=e.row.pc_url;return a("div",[a("Button",{domProps:{innerHTML:"编辑"},props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.gotomodelEdit(e)}}},"View"),a("Button",{props:{type:"warning",size:"small"},style:{margin:"0 4px 2px 0"},on:{click:function(){window.open(i,"_blank")}}},"pc预览"),a("Button",{props:{type:"warning",size:"small"},style:{margin:"0 4px 2px 0"},on:{click:function(){window.open(n,"_blank")}}},"m预览")])}}],data:[],formData:{},curMid:"",curstatus:"",isLoading:!0,page:1,per_page:10,totalPages:0,params:{},warnModal:!1,modal_loading:!1,statustxt:"",gametagModel:"",statusModel:"0",curid:""}},mounted:function(){var t=Object(r["b"])(),a=this.formData.name,e=1*this.formData.status,n={token:t,page:"1",per_page:10,name:a,status:e};this.params=n,this.getData(n)},methods:{getData:function(t){var a=this;o["a"].tagList(t).then((function(t){0===t.code?(a.data=t.data.taglist,a.totalPages=t.data.totlerows,a.isLoading=!1,a.data.forEach((function(t){t.taglisttaginfo1="",t.addtime=a.$moment(1e3*t.addtime).format("YYYY-MM-DD k:mm"),t.tagInfo1.length>0&&t.tagInfo1.forEach((function(a){t.taglisttaginfo1+=a.name+"  "}))}))):a.$Notice.error({title:t.msg})}))},gotomodelEdit:function(t){var a=t.row.id,e=t.row.status,n=t.row.type;this.$router.replace({path:"/data/editTag",query:{id:a,type:n,status:e}})},changePage:function(t){this.params.page=t,this.getData(this.params)},changePageNum:function(t){this.params.per_page=t,this.getData(this.params)},adminGroupDel:function(){var t=this;this.modal_loading=!0;var a=Object(r["b"])(),e=1*this.curMid,n=1*this.curstatus,i="tag",s={token:a,id:e,status:n,type:i};o["a"].ajaxUpdate(s).then((function(a){t.warnModal=!1,t.modal_loading=!1,0==a.code?(t.$Notice.success({desc:a.msg}),t.reload()):t.$Notice.error({desc:a.msg})})).catch((function(a){t.warnModal=!1,t.modal_loading=!1,t.$Notice.error({desc:a})}))},deminGroupDel:function(){this.warnModal=!1,this.modal_loading=!1},setNewData:function(){this.params.name=this.gametagModel,this.params.type=this.statusModel,this.getData(this.params)},setchData:function(){this.params.status=this.statusModel,this.getData(this.params)}}},c=s,l=(e("85fa"),e("2877")),d=Object(l["a"])(c,n,i,!1,null,"1cd0e019",null);a["default"]=d.exports},f769:function(t,a,e){}}]);
//# sourceMappingURL=chunk-0254174a.641aef5d.js.map