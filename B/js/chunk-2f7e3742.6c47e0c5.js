(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2f7e3742"],{"159b":function(t,e,a){var i=a("da84"),n=a("fdbc"),o=a("785a"),r=a("17c2"),s=a("9112"),c=function(t){if(t&&t.forEach!==r)try{s(t,"forEach",r)}catch(e){t.forEach=r}};for(var m in n)n[m]&&c(i[m]&&i[m].prototype);c(o)},"17c2":function(t,e,a){"use strict";var i=a("b727").forEach,n=a("a640"),o=n("forEach");t.exports=o?[].forEach:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}},7504:function(t,e,a){"use strict";a("c5c8")},a640:function(t,e,a){"use strict";var i=a("d039");t.exports=function(t,e){var a=[][t];return!!a&&i((function(){a.call(null,e||function(){throw 1},1)}))}},c1f0:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[1==t.reviewType?a("h3",[a("Icon",{attrs:{type:"ios-paw",size:"24"}}),t._v("游戏审核列表")],1):a("h3",[a("Icon",{attrs:{type:"ios-paw-outline",size:"24"}}),t._v("应用审核列表")],1),a("div",{staticClass:"formBox"},[a("Select",{staticStyle:{width:"100px"},model:{value:t.formData.seltype,callback:function(e){t.$set(t.formData,"seltype",e)},expression:"formData.seltype"}},[a("Option",{attrs:{value:"addtime"}},[t._v("添加时间")]),a("Option",{attrs:{value:"uptime"}},[t._v("审核时间")])],1),a("DatePicker",{staticStyle:{width:"200px"},attrs:{type:"datetime",options:t.datePreSet,placeholder:"选择开始日期"},on:{"on-change":t.getSTime},model:{value:t.formData.stime,callback:function(e){t.$set(t.formData,"stime",e)},expression:"formData.stime"}}),a("DatePicker",{staticStyle:{width:"200px"},attrs:{type:"datetime",options:t.datePreSet,placeholder:"选择结束日期"},on:{"on-change":t.getETime},model:{value:t.formData.etime,callback:function(e){t.$set(t.formData,"etime",e)},expression:"formData.etime"}}),a("Select",{staticStyle:{width:"100px"},on:{"on-change":t.handleForm},model:{value:t.formData.adminid,callback:function(e){t.$set(t.formData,"adminid",e)},expression:"formData.adminid"}},[a("Option",{attrs:{value:"0"}},[t._v("发布人")]),t._l(t.configObj.adminList,(function(e,i){return a("Option",{key:i,attrs:{value:e.uid}},[t._v(t._s(e.username))])}))],2),a("Select",{staticStyle:{width:"100px"},on:{"on-change":t.handleForm},model:{value:t.formData.status,callback:function(e){t.$set(t.formData,"status",e)},expression:"formData.status"}},[a("Option",{attrs:{value:"0"}},[t._v("审核状态")]),t._l(t.configObj.status,(function(e,i){return a("Option",{key:i,attrs:{value:i}},[t._v(t._s(e))])}))],2),a("Select",{staticStyle:{width:"100px"},on:{"on-change":t.handleForm},model:{value:t.formData.reviewid,callback:function(e){t.$set(t.formData,"reviewid",e)},expression:"formData.reviewid"}},[a("Option",{attrs:{value:"0"}},[t._v("审核人")]),t._l(t.configObj.adminList,(function(e,i){return a("Option",{key:i,attrs:{value:e.uid}},[t._v(t._s(e.username))])}))],2),a("Button",{staticStyle:{width:"100px"},attrs:{type:"primary"},on:{click:t.handleForm}},[a("Icon",{attrs:{type:"ios-search",size:"16"}}),t._v(" 搜索 ")],1)],1),a("Table",{ref:"selection",attrs:{border:"",columns:t.columns,data:t.data,loading:t.isLoading}}),a("div",{staticStyle:{margin:"10px",overflow:"hidden"}},[a("div",{staticStyle:{float:"right"}},[a("Page",{attrs:{total:1*t.totalPages,"show-total":"","show-elevator":"","show-sizer":"","page-size":10},on:{"on-page-size-change":t.changePageNum,"on-change":t.changePage}})],1)])],1)},n=[],o=(a("159b"),a("365c")),r=a("3786"),s={inject:["reload"],data:function(){var t=this;return{columns:[{title:"ID",key:"id",align:"center"},{title:"名称",key:"name",align:"center"},{title:"添加时间",key:"formatTime",align:"center"},{title:"发布人",key:"addadmin_name",align:"center"},{title:"审核时间",key:"reviewTime",align:"center"},{title:"审核人",key:"upadmin_name",align:"center"},{title:"审核状态",key:"state",align:"center",render:function(t,e){var a=e.row.status,i=1==a?"success":2==a?"info":3==a?"warning":"error",n=1==a?"已发布":2==a?"隐藏":3==a?"审核中":"已退回";return t("Tag",{props:{type:"dot",color:i}},n)}},{title:"功能",key:"action",align:"center",render:function(e,a){var i=a.row.status;return e("div",3==i?[e("Button",{props:{type:"info",size:"small"},on:{click:function(){t.$router.push({path:"editReview",query:{id:a.row.id,type:t.reviewType}})}}},"审核")]:[e("Button",{props:{type:"text",size:"small"}},"-")])}}],data:[],datePreSet:{shortcuts:[{text:"现在",value:function(){var t=new Date,e="";return e+=t.getFullYear()+"-",e+=t.getMonth()+1+"-",e+=t.getDate()+" ",e+=t.getHours()+":",e+=t.getMinutes()+":",e+=t.getSeconds(),e},onClick:function(){}},{text:"昨天",value:function(){var t=new Date;t.setTime(t.getTime()-864e5);var e="";return e+=t.getFullYear()+"-",e+=t.getMonth()+1+"-",e+=t.getDate()+" ",e+=t.getHours()+":",e+=t.getMinutes()+":",e+=t.getSeconds(),e},onClick:function(){}},{text:"一周前",value:function(){var t=new Date;t.setTime(t.getTime()-6048e5);var e="";return e+=t.getFullYear()+"-",e+=t.getMonth()+1+"-",e+=t.getDate()+" ",e+=t.getHours()+":",e+=t.getMinutes()+":",e+=t.getSeconds(),e},onClick:function(){}}]},formData:{seltype:"addtime",stime:"",etime:"",adminid:"0",status:"0",reviewid:"0"},configObj:{adminList:{},status:{}},totalPages:0,isLoading:!0,reviewType:1,page:1,per_page:10}},created:function(){var t=this,e=this;this.reviewType=-1==this.$route.path.indexOf("reviewGame")?2:1,1==this.reviewType?(this.isLoading=!1,this.configObj.adminList=this.$store.state.reviewListData.adminlist,this.configObj.status=this.$store.state.reviewListData.config.status,this.totalPages=this.$store.state.reviewListData.totlerows,this.data=this.$store.state.reviewListData.gamelist,this.data.forEach((function(e){e.formatTime=t.$moment(1e3*e.addtime).format("YYYY-MM-DD k:mm"),e.reviewTime=e.uptime?t.$moment(1e3*e.uptime).format("YYYY-MM-DD k:mm"):"-"}))):this.handleForm(),document.onkeydown=function(){var t=window.event.keyCode;13===t&&e.handleForm()}},methods:{handleForm:function(){var t=Object(r["b"])(),e=1*this.page,a=1*this.per_page,i=this.formData.seltype,n=this.formData.stime,o=this.formData.etime,s=this.formData.adminid,c=this.formData.reviewid,m=this.formData.status,l={token:t,page:e,per_page:a,seltype:i,stime:n,etime:o,adminid:s,reviewid:c,status:m};this.params=l,this.getData()},getData:function(){var t=this;this.isLoading=!0,this.reviewType=-1==this.$route.path.indexOf("reviewGame")?2:1;var e=-1==this.$route.path.indexOf("reviewGame")?"reviewApp":"reviewGame";o["a"][e](this.params).then((function(e){t.isLoading=!1,0==e.code?(t.configObj.adminList=e.data.adminlist,t.configObj.status=e.data.config.status,t.totalPages=e.data.totlerows,t.data=e.data.gamelist,t.data.forEach((function(e){e.formatTime=t.$moment(1e3*e.addtime).format("YYYY-MM-DD k:mm"),e.reviewTime=e.uptime?t.$moment(1e3*e.uptime).format("YYYY-MM-DD k:mm"):"-"}))):t.$Notice.error({desc:e.msg})})).catch((function(e){t.$Notice.error({desc:e})}))},changePage:function(t){this.page=t,this.handleForm()},changePageNum:function(t){this.page=1,this.per_page=t,this.handleForm()},getSTime:function(t){this.formData.stime=t},getETime:function(t){this.formData.etime=t}},watch:{$route:function(t,e){t.fullPath!=e.fullPath&&this.handleForm()}}},c=s,m=(a("7504"),a("2877")),l=Object(m["a"])(c,i,n,!1,null,"2c0512a0",null);e["default"]=l.exports},c5c8:function(t,e,a){}}]);
//# sourceMappingURL=chunk-2f7e3742.6c47e0c5.js.map